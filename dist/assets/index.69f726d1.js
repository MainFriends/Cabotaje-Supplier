var Ae=Object.defineProperty,ve=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var me=(r,c,o)=>c in r?Ae(r,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[c]=o,A=(r,c)=>{for(var o in c||(c={}))_e.call(c,o)&&me(r,o,c[o]);if(ie)for(var o of ie(c))Re.call(c,o)&&me(r,o,c[o]);return r},v=(r,c)=>ve(r,Se(c));import{r as l,j as e,a as xe,b as a,L as te,u as le,F as U,N as q,c as he,C as Z,A as X,p as J,d as K,P as se,R as Ne,e as pe,D as oe,f as be,g as Ce,h as Pe,i as Ie,k as fe,l as I,m as Me,O as Ue,Q as F,B as ye,n as Fe,o as Le,q as Y,s as ae,t as we,v as Ye}from"./vendor.69bdf28f.js";const ke=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};ke();function qe({children:r}){const c=l.exports.createContext({}),o=JSON.parse(window.localStorage.getItem("userSession")),[s,n]=l.exports.useState(o);return e(c.Provider,{value:{jwt:s,setJWT:n},children:r})}var He=Context;function re(){const{jwt:r,setJWT:c}=l.exports.useContext(He),o=l.exports.useCallback(n=>{window.localStorage.setItem("userSession",JSON.stringify(n)),c(n)},[c]),s=l.exports.useCallback((n="")=>{window.localStorage.removeItem("userSession"),c(null),n&&window.localStorage.setItem("userMessage",n)},[c]);return{isLogged:Boolean(r),jwt:r,login:o,logout:s}}const p=xe.create({baseURL:"http://localhost:4000/api"}),b=()=>{const{token:r}=JSON.parse(window.localStorage.getItem("userSession"))||"";return{headers:{Authorization:`Bearer ${r}`}}},$e=(r={})=>{const[c,o]=l.exports.useState(r);return[c,n=>{o(v(A({},c),{[n.target.name]:n.target.value}))}]},ee=({message:r})=>a("div",{className:"alert alert-danger text-center mx-0",role:"alert",children:[e("strong",{children:"\xA1Error! "}),r]}),Ve=({setFormLogin:r,handleLoginSubmit:c,errorMessage:o})=>e("div",{className:"container-fluid login",children:e("div",{className:"row justify-content-center",children:e("div",{className:"col-xl-10 col-lg-12 col-md-9",children:e("div",{className:"card o-hidden border-0 shadow-lg my-5",children:e("div",{className:"card-body p-0",children:a("div",{className:"row",children:[e("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),a("div",{className:"col-lg-6 col-form",children:[a("div",{className:"p-5",children:[e("div",{className:"text-center ",children:e("h2",{className:"font-weight-bold text-dark mb-4",children:"Inicio de sesi\xF3n"})}),a("form",{className:"user",action:"#",children:[e("div",{className:"form-group",children:e("input",{onChange:r,type:"email",className:"form-control form-control-user",name:"EMAIL",placeholder:"Correo electr\xF3nico",required:!0})}),e("div",{className:"form-group",children:e("input",{onChange:r,type:"password",className:"form-control form-control-user",id:"password",name:"PASSWORD",placeholder:"Contrase\xF1a",required:!0})}),e("hr",{}),e("button",{onClick:c,type:"submit",className:"btn btn-primary btn-user btn-block",children:"Iniciar sesi\xF3n"}),e("div",{className:"text-muted font-weight-light mt-3 small",children:"\xBFOlvidaste tu contrase\xF1a? Informale a tu gerente o encargado."})]})]}),o?e(ee,{message:o}):null,";"]})]})})})})})}),We=async r=>{const{data:c}=await p.post("/login",r);return c},Be=()=>{document.title="Cabotaje Supplier - Login";const[r,c]=l.exports.useState(""),{login:o}=re(),[s,n]=$e({EMAIL:"",PASSWORD:""});return l.exports.useEffect(()=>{const m=window.localStorage.getItem("userMessage");m&&(c(m),setTimeout(()=>{c(""),window.localStorage.removeItem("userMessage")},5e3))},[]),e(Ve,{setFormLogin:n,handleLoginSubmit:m=>{m.preventDefault();const{EMAIL:d,PASSWORD:u}=s;if(d===""||u===""){c("Introduce un correo y contrase\xF1a v\xE1lido."),setTimeout(()=>{c("")},3e3);return}We(s).then(h=>{o(h)}).catch(h=>{const{message:f}=h.response.data;c(f),document.querySelector("#password").value="",setTimeout(()=>{c("")},3e3)})},errorMessage:r})},Ge=()=>a(te,{className:"sidebar-brand d-flex align-items-center justify-content-center",to:"/dashboard",children:[e("div",{className:"sidebar-brand-icon",children:e("div",{className:"logo-header"})}),e("div",{className:"sidebar-brand-text mx-0",children:"Cabotaje Supplier"})]}),ze=()=>{const{pathname:r}=le(),[c,o]=l.exports.useState(null),[s,n]=l.exports.useState([]),i=d=>"nav-link"+(d&&" active");l.exports.useEffect(()=>{p.get("/user-profile",b()).then(d=>{o(d.data[0].COD_ROLE)})},[]),l.exports.useEffect(()=>{p.get("/user-permissions",b()).then(d=>n(d.data))},[]);const m=()=>s.some(d=>d.COD_MODULE===1);return a(U,{children:[e("li",{className:"nav-item "+(r==="/dashboard"?"active":""),children:a(q,{className:i,to:"/dashboard",children:[e("i",{className:"mr-2 fas fa-fw fa-tachometer-alt"}),e("span",{children:"Dashboard"})]})}),m()?e("li",{className:"nav-item",children:a(q,{className:"nav-link",to:"/facturar",children:[e("i",{className:"mr-2 fa-solid fa-cash-register"}),e("span",{children:"Facturar"})]})}):null,e("hr",{className:"sidebar-divider"}),e("div",{className:"sidebar-heading",children:"M\xF3dulos"}),a("li",{className:"nav-item "+(r==="/dashboard/ventas"?"active":""),children:[a("a",{className:"nav-link collapsed dinamic",href:"#","data-toggle":"collapse","data-target":"#collapseVenta","aria-expanded":"true","aria-controls":"collapseTwo",children:[e("i",{className:"mr-2 fa-solid fa-chart-line"}),e("span",{children:"Ventas"})]}),e("div",{className:"collapse",id:"collapseVenta","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:a("div",{className:"bg-white py-2 collapse-inner rounded",children:[e("h6",{className:"collapse-header",children:"Tablas"}),e(q,{className:"collapse-item",to:"ventas",children:"Facturas de ventas"})]})})]}),a("li",{className:"nav-item "+(r==="/dashboard/compras"||r==="/dashboard/pedidos"?"active":""),children:[a("a",{className:"nav-link collapsed dinamic",href:"#","data-toggle":"collapse","data-target":"#collapseCompra","aria-expanded":"true","aria-controls":"collapseTwo",children:[e("i",{className:"mr-2 fa-solid fa-hand-holding-dollar"}),e("span",{children:"Compras"})]}),e("div",{className:"collapse",id:"collapseCompra","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:a("div",{className:"bg-white py-2 collapse-inner rounded",children:[e("h6",{className:"collapse-header",children:"Tablas"}),e(q,{className:"collapse-item",to:"compras",children:"Facturas de compras"}),e(q,{className:"collapse-item",to:"pedidos",children:"Pedidos"})]})})]}),a("li",{className:"nav-item "+(r==="/dashboard/usuarios"||r==="/dashboard/clientes"||r==="/dashboard/proveedores"?"active":""),children:[a("a",{className:"nav-link collapsed dinamic",href:"#","data-toggle":"collapse","data-target":"#collapsePersona","aria-expanded":"true","aria-controls":"collapseTwo",children:[e("i",{className:"mr-2 fas fa-users"}),e("span",{children:"Personas"})]}),e("div",{className:"collapse",id:"collapsePersona","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:a("div",{className:"bg-white py-2 collapse-inner rounded",children:[e("h6",{className:"collapse-header",children:"Tablas"}),c===1?e(q,{className:"collapse-item",to:"usuarios",children:"Usuarios"}):null,e(q,{className:"collapse-item",to:"clientes",children:"Clientes"}),e(q,{className:"collapse-item",to:"proveedores",children:"Proveedores"})]})})]}),a("li",{className:"nav-item "+(r==="/dashboard/inventario"||r==="/dashboard/movimientos-inventario"||r==="/dashboard/devoluciones-inventario"||r==="/dashboard/categorias-inventario"||r==="/dashboard/mermas"?"active":""),children:[a("a",{className:"nav-link collapsed dinamic",href:"#","data-toggle":"collapse","data-target":"#collapseProduccion","aria-expanded":"true","aria-controls":"collapseTwo",children:[e("i",{className:"mr-2 fas fa-boxes"}),e("span",{children:"Producci\xF3n"})]}),e("div",{className:"collapse",id:"collapseProduccion","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:a("div",{className:"bg-white py-2 collapse-inner rounded",children:[e("h6",{className:"collapse-header",children:"Tablas"}),e(q,{className:"collapse-item",to:"inventario",children:"Inventario"}),e(q,{className:"collapse-item",to:"categorias-inventario",children:"Categor\xEDas"}),e(q,{className:"collapse-item",to:"movimientos-inventario",children:"Movimientos"}),e(q,{className:"collapse-item",to:"devoluciones-inventario",children:"Devoluciones"}),e(q,{className:"collapse-item",to:"mermas",children:"Mermas"})]})})]}),a("li",{className:"nav-item "+(r==="/dashboard/cuentas-cobrar"||r==="/dashboard/cuentas-pagar"||r==="/dashboard/devoluciones"||r==="/dashboard/rebajas"||r==="/dashboard/planilla-pago"?"active":""),children:[a("a",{className:"nav-link collapsed dinamic",href:"#","data-toggle":"collapse","data-target":"#collapseContabilidad","aria-expanded":"true","aria-controls":"collapseTwo",children:[e("i",{className:"mr-2 fas fa-coins"}),e("span",{children:"Contabilidad"})]}),e("div",{className:"collapse",id:"collapseContabilidad","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:a("div",{className:"bg-white py-2 collapse-inner rounded",children:[e("h6",{className:"collapse-header",children:"Tablas"}),e(q,{className:"collapse-item",to:"cuentas-cobrar",children:"Cuentas por cobrar"}),e(q,{className:"collapse-item",to:"cuentas-pagar",children:"Cuentas por pagar"}),e(q,{className:"collapse-item",to:"devoluciones",children:"Devoluciones V/C"}),e(q,{className:"collapse-item",to:"rebajas",children:"Rebajas V/C"}),e(q,{className:"collapse-item",to:"planilla-pago",children:"Planilla de pago"})]})})]}),e("hr",{className:"sidebar-divider"}),e("div",{className:"sidebar-heading",children:"Utilidades"}),c===1?e("li",{className:"nav-item "+(r==="/dashboard/roles-permisos"?"active":""),children:a(q,{className:"nav-link",to:"roles-permisos",children:[e("i",{className:"mr-2 fa-solid fa-user-lock"}),e("span",{children:"Roles y permisos"})]})}):null,e("li",{className:"nav-item "+(r==="/dashboard/graficas"?"active":""),children:a(q,{className:"nav-link",to:"graficas",children:[e("i",{className:"mr-2 fas fa-chart-pie"}),e("span",{children:"Gr\xE1ficas"})]})})]})},je=({clickMenuOpen:r})=>a("ul",{className:r?"navbar-nav bg-danger sidebar sidebar-dark accordion":"navbar-nav bg-danger sidebar sidebar-dark accordion toggled",id:"accordionSidebar",children:[e(Ge,{}),e("hr",{className:"sidebar-divider my-0"}),e(ze,{}),e("hr",{className:"sidebar-divider d-none d-md-block"})]}),ge=()=>a("li",{className:"nav-item dropdown no-arrow mx-1",children:[a("a",{className:"nav-link dropdown-toggle",href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e("i",{className:"fas fa-bell fa-fw"}),e("span",{className:"badge badge-danger badge-counter",children:"3+"})]}),a("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"alertsDropdown",children:[e("h6",{className:"dropdown-header",children:"Alerts Center"}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[e("div",{className:"mr-3",children:e("div",{className:"icon-circle bg-primary",children:e("i",{className:"fas fa-file-alt text-white"})})}),a("div",{children:[e("div",{className:"small text-gray-500",children:"December 12, 2019"}),e("span",{className:"font-weight-bold",children:"A new monthly report is ready to download!"})]})]}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[e("div",{className:"mr-3",children:e("div",{className:"icon-circle bg-success",children:e("i",{className:"fas fa-donate text-white"})})}),a("div",{children:[e("div",{className:"small text-gray-500",children:"December 7, 2019"}),"$290.29 has been deposited into your account!"]})]}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[e("div",{className:"mr-3",children:e("div",{className:"icon-circle bg-warning",children:e("i",{className:"fas fa-exclamation-triangle text-white"})})}),a("div",{children:[e("div",{className:"small text-gray-500",children:"December 2, 2019"}),"Spending Alert: We've noticed unusually high spending for your account."]})]}),e("a",{className:"dropdown-item text-center small text-gray-500",href:"#",children:"Show All Alerts"})]})]}),Ee=()=>a("li",{className:"nav-item dropdown no-arrow mx-1",children:[a("a",{className:"nav-link dropdown-toggle",href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e("i",{className:"fas fa-envelope fa-fw"}),e("span",{className:"badge badge-danger badge-counter",children:"7"})]}),a("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"messagesDropdown",children:[e("h6",{className:"dropdown-header",children:"Message Center"}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[a("div",{className:"dropdown-list-image mr-3",children:[e("img",{className:"rounded-circle",src:"../../src/assets/img/undraw_profile_1.svg",alt:"..."}),e("div",{className:"status-indicator bg-success"})]}),a("div",{className:"font-weight-bold",children:[e("div",{className:"text-truncate",children:"Hi there! I am wondering if you can help me with a problem I've been having."}),e("div",{className:"small text-gray-500",children:"Emily Fowler \xB7 58m"})]})]}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[a("div",{className:"dropdown-list-image mr-3",children:[e("img",{className:"rounded-circle",src:"../../src/assets/img/undraw_profile_2.svg",alt:"..."}),e("div",{className:"status-indicator"})]}),a("div",{children:[e("div",{className:"text-truncate",children:"I have the photos that you ordered last month, how would you like them sent to you?"}),e("div",{className:"small text-gray-500",children:"Jae Chun \xB7 1d"})]})]}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[a("div",{className:"dropdown-list-image mr-3",children:[e("img",{className:"rounded-circle",src:"../../src/assets/img/undraw_profile_3.svg",alt:"..."}),e("div",{className:"status-indicator bg-warning"})]}),a("div",{children:[e("div",{className:"text-truncate",children:"Last month's report looks great, I am very happy with the progress so far, keep up the good work!"}),e("div",{className:"small text-gray-500",children:"Morgan Alvarez \xB7 2d"})]})]}),a("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[a("div",{className:"dropdown-list-image mr-3",children:[e("img",{className:"rounded-circle",src:"https://source.unsplash.com/Mv9hjnEUHR4/60x60",alt:"..."}),e("div",{className:"status-indicator bg-success"})]}),a("div",{children:[e("div",{className:"text-truncate",children:"Am I a good boy? The reason I ask is because someone told me that people say this to all dogs, even if they aren't good..."}),e("div",{className:"small text-gray-500",children:"Chicken the Dog \xB7 2w"})]})]}),e("a",{className:"dropdown-item text-center small text-gray-500",href:"#",children:"Read More Messages"})]})]}),ne=({src:r,width:c,height:o})=>e("img",{className:"rounded-circle",width:c,height:o,src:r||"../src/assets/img/undraw_profile.svg",alt:"Foto del usuario"}),Te=({profilePicture:r})=>{const{pathname:c}=le(),{jwt:{FIRST_NAME:o,LAST_NAME:s},logout:n}=re(),i=()=>{n()};return a("li",{className:"nav-item dropdown no-arrow",children:[a("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[e("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small",children:`${o} ${s}`}),e(ne,{src:r?`data:image/*;base64, ${r}`:"",width:"40px",height:"40px"})]}),a("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[c==="/profile"?a(te,{className:"dropdown-item",to:"/dashboard",children:[e("i",{className:"fa-solid fa-chart-line mr-2 text-gray-800"}),"Dashboard"]}):a(te,{className:"dropdown-item",to:"/profile",children:[e("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-800"}),"Perfil"]}),e("div",{className:"dropdown-divider"}),a("a",{onClick:i,className:"dropdown-item",href:"#",children:[e("i",{className:"fa-solid fa-right-from-bracket mr-2 text-gray-800"}),"Cerrar sesi\xF3n"]})]})]})},Qe=({clickMenuOpen:r,setClickMenu:c})=>{const[o,s]=l.exports.useState(null);return l.exports.useEffect(()=>{p.get("/profile-picture",b()).then(n=>{const{IMG_USER:i}=n.data[0];i&&s(he.Buffer.from(i).toString("base64"))})},[]),a("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[e("button",{onClick:()=>{c(!r)},className:"btn btn-danger",id:"sidebarToggle",children:e("i",{className:"fas fa-bars"})}),a("ul",{className:"navbar-nav ml-auto",children:[e(ge,{}),e(Ee,{}),e("div",{className:"topbar-divider d-none d-sm-block"}),e(Te,{profilePicture:o})]})]})},Ze=()=>e("footer",{className:"sticky-footer bg-white",children:e("div",{className:"container my-auto",children:e("div",{className:"copyright text-center my-auto",children:e("span",{children:"Cabotaje Supplier \xA9 2022"})})})}),Je=()=>{const r=document.querySelector("#sidebarToggle"),c=document.querySelectorAll(".collapse-item"),o=()=>{if(!document.querySelector("#accordionSidebar").classList.contains("toggled")){const i=document.querySelectorAll("li .collapse"),m=document.querySelectorAll(".dinamic");i.forEach(d=>{d.classList.remove("show")}),m.forEach(d=>{d.classList.add("collapsed")})}},s=()=>{if(document.querySelector("#accordionSidebar").classList.contains("toggled")){const i=document.querySelectorAll("li .collapse"),m=document.querySelectorAll(".dinamic");i.forEach(d=>{d.classList.remove("show")}),m.forEach(d=>{d.classList.add("collapsed")})}};r.addEventListener("click",o),c.forEach(n=>{n.addEventListener("click",s)})};Z.register(X,J,K);function Ke(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_ROLE),datasets:[{label:"# of Votes",data:r.map(s=>s.CANT),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/roles-graphics",b()).then(s=>{c(s.data)})},[]),e(se,{data:o})}const Q=({titulo:r,component:c,className:o=""})=>a("div",{className:`card shadow ${o}`,children:[e("div",{className:"card-header",children:r}),e("div",{className:"card-body grafica",children:c})]}),Xe="Su sesi\xF3n ha expirado. Por favor, inicie sesi\xF3n nuevamente.";Z.register(Ne,X,J,K);function ea(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_TYPE_PAY),datasets:[{label:"# of Votes",data:r.map(s=>s.NUM),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/type-pay",b()).then(s=>{c(s.data)})},[]),e(pe,{data:o})}Z.register(X,J,K);function aa(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_PRODUCT),datasets:[{label:"# of Votes",data:r.map(s=>s.TOT_PRODUCTS),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/sales-products",b()).then(s=>{c(s.data)})},[]),e(oe,{data:o})}const ta=()=>{const[r,c]=l.exports.useState("week"),[o,s]=l.exports.useState(0),[n,i]=l.exports.useState(0);return l.exports.useEffect(()=>{p.get("/sales-invoices-week",b()).then(({data:m})=>{const{TOTAL_VENTAS:d}=m[0];d&&s(d)}),p.get("/sales-invoices-month",b()).then(({data:m})=>{const{TOTAL_VENTAS:d}=m[0];d&&i(d)})},[]),e("div",{className:"col-xl-3 col-md-6 mb-4",children:a("div",{className:"card border-left-primary shadow h-100 py-2",children:[e("div",{className:"card-header p-0",children:a("div",{className:"row",children:[e("div",{className:"col-8",children:a("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1 ml-2",children:["Ventas ",r==="week"?"semanales":"mensuales"]})}),e("div",{className:"col-4 text-right",children:a("div",{className:"dropdown no-arrow",children:[e("a",{className:"dropdown-toggle",href:"#",role:"button",id:"salesRank","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e("i",{className:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})}),a("div",{className:"dropdown-menu dropdown-menu-right shadow animated--fade-in","aria-labelledby":"salesRank",children:[e("div",{className:"dropdown-header",children:"Selecciona un rango:"}),e("a",{onClick:()=>c("week"),className:"dropdown-item",href:"#",children:"Ultima semana"}),e("a",{onClick:()=>c("month"),className:"dropdown-item",href:"#",children:"Ultimo mes"})]})]})})]})}),e("div",{className:"card-body",children:a("div",{className:"row no-gutters align-items-center",children:[e("div",{className:"col mr-2",children:a("h5",{className:"mb-0 font-weight-bold text-gray-800 ml-2",children:[r==="week"&&`L. ${o.toFixed(2)}`,r==="month"&&`L. ${n.toFixed(2)}`]})}),e("div",{className:"col-auto",children:e("i",{className:"fa-solid fa-piggy-bank fa-2x mr-2 mt-2"})})]})})]})})},ra=()=>{const[r,c]=l.exports.useState("week"),[o,s]=l.exports.useState(0),[n,i]=l.exports.useState(0);return l.exports.useEffect(()=>{p.get("/purchase-invoice-week",b()).then(({data:m})=>{const{TOTAL_COMPRAS:d}=m[0];d&&s(d)}),p.get("/purchase-invoice-month",b()).then(({data:m})=>{const{TOTAL_COMPRAS:d}=m[0];d&&i(d)})},[]),e("div",{className:"col-xl-3 col-md-6 mb-4",children:a("div",{className:"card border-left-danger shadow h-100 py-2",children:[e("div",{className:"card-header p-0",children:a("div",{className:"row",children:[e("div",{className:"col-8",children:a("div",{className:"text-xs font-weight-bold text-danger text-uppercase mb-1 ml-2",children:["Compras ",r==="week"?"semanales":"mensuales"]})}),e("div",{className:"col-4 text-right",children:a("div",{className:"dropdown no-arrow",children:[e("a",{className:"dropdown-toggle",href:"#",role:"button",id:"salesRank","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e("i",{className:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})}),a("div",{className:"dropdown-menu dropdown-menu-right shadow animated--fade-in","aria-labelledby":"salesRank",children:[e("div",{className:"dropdown-header",children:"Selecciona un rango:"}),e("a",{onClick:()=>c("week"),className:"dropdown-item",href:"#",children:"Ultima semana"}),e("a",{onClick:()=>c("month"),className:"dropdown-item",href:"#",children:"Ultimo mes"})]})]})})]})}),e("div",{className:"card-body",children:a("div",{className:"row no-gutters align-items-center",children:[e("div",{className:"col mr-2",children:a("h5",{className:"mb-0 font-weight-bold text-gray-800 ml-2",children:[r==="week"&&`L. ${o.toFixed(2)}`,r==="month"&&`L. ${n.toFixed(2)}`]})}),e("div",{className:"col-auto",children:e("i",{className:"fa-solid fa-bag-shopping fa-2x mr-2 mt-2"})})]})})]})})};Z.register(be,Ce,Pe,Ie,fe,J,K);const la={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Cabotaje Supplier"}}};function sa(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>I(s.DAT_INVOICE).format("DD-MM-YYYY")),datasets:[{label:"Ventas",data:r.map(s=>s.TOT_DAY),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return l.exports.useEffect(()=>{p.get("/tot-sales-day",b()).then(s=>{c(s.data)})},[]),e(Me,{options:la,data:o})}const oa=()=>{const[r,c]=l.exports.useState(0);return l.exports.useEffect(()=>{p.get("/orders-process",b()).then(({data:o})=>{const{TOT_ORDERS:s}=o[0];s&&c(s)})},[]),e("div",{className:"col-xl-3 col-md-6 mb-4",children:a("div",{className:"card border-left-warning shadow h-100 py-2",children:[e("div",{className:"card-header p-0",children:a("div",{className:"row",children:[e("div",{className:"col-8",children:e("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1 ml-2",children:"Ordenes en proceso"})}),e("div",{className:"col-4 text-right",children:e("div",{className:"dropdown no-arrow",children:e("a",{className:"dropdown-toggle",href:"#",role:"button",id:"salesRank","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"})})})]})}),e("div",{className:"card-body",children:a("div",{className:"row no-gutters align-items-center",children:[e("div",{className:"col mr-2",children:e("h5",{className:"mb-0 font-weight-bold text-gray-800 ml-2",children:`${r}`})}),e("div",{className:"col-auto",children:e("i",{className:"fa-solid fa-clipboard-list fa-2x mr-2 mt-2"})})]})})]})})},na=()=>{const[r,c]=l.exports.useState(0);return l.exports.useEffect(()=>{p.get("/sales-day",b()).then(({data:o})=>{const{SALES_DAY:s}=o[0];s&&c(s)})},[]),e("div",{className:"col-xl-3 col-md-6 mb-4",children:a("div",{className:"card border-left-info shadow h-100 py-2",children:[e("div",{className:"card-header p-0",children:a("div",{className:"row",children:[e("div",{className:"col-8",children:e("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1 ml-2",children:"Ventas del dia"})}),e("div",{className:"col-4 text-right",children:e("div",{className:"dropdown no-arrow",children:e("a",{className:"dropdown-toggle",href:"#",role:"button",id:"salesRank","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"})})})]})}),e("div",{className:"card-body",children:a("div",{className:"row no-gutters align-items-center",children:[e("div",{className:"col mr-2",children:e("h5",{className:"mb-0 font-weight-bold text-gray-800 ml-2",children:`L. ${r.toFixed(2)}`})}),e("div",{className:"col-auto",children:e("i",{className:"fa-solid fa-calendar-check fa-2x mr-2 mt-2"})})]})})]})})};Z.register(X,J,K);function ca(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_CLIENT),datasets:[{label:"# of Votes",data:r.map(s=>s.CANT),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/cant-client",b()).then(s=>{c(s.data)})},[]),e(se,{data:o})}const da=()=>a("div",{children:[a("div",{className:"row",children:[e(ta,{}),e(ra,{}),e(oa,{}),e(na,{})]}),a("div",{className:"row",children:[e("div",{className:"col-8",children:e(Q,{titulo:"Ventas a la semana - Detalladas",component:e(sa,{})})}),e("div",{className:"col-4",children:e(Q,{titulo:"Productos mas vendidos",component:e(aa,{})})})]}),a("div",{className:"row",children:[e("div",{className:"col-4 py-5",children:e(Q,{titulo:"Roles del sistema",component:e(Ke,{})})}),e("div",{className:"col-4 py-5",children:e(Q,{titulo:"Ventas por tipo de pago",component:e(ea,{})})}),e("div",{className:"col-4 py-5",children:e(Q,{titulo:"Clientes que mas nos compran",component:e(ca,{})})})]})]}),ia=()=>{document.title="Cabotaje Supplier - Dashboard";const{pathname:r}=le(),[c,o]=l.exports.useState(!0),{logout:s}=re();return l.exports.useEffect(()=>{Je()},[]),l.exports.useEffect(()=>{p.get("/jwt",b()).catch(n=>{const{message:i}=n.response.data;i==="jwt expired"&&s(Xe)})},[r]),a(U,{children:[e(je,{clickMenuOpen:c}),a("div",{className:"d-flex flex-column",id:"content-wrapper",children:[a("div",{id:"content",children:[e(Qe,{clickMenuOpen:c,setClickMenu:o}),e("div",{className:"container-fluid",children:r==="/dashboard"?e(da,{}):e(Ue,{})})]}),e(Ze,{})]})]})},ma=({saleMessage:r,setsaleInvoice:c,setCurrentPage:o,setproductListSale:s})=>{const{message:n,ok:i}=r,m=()=>{i&&(c({COD_CLIENT:1,NAM_CLIENT:"CF",COD_USER:"",NAM_USER:"",SUBTOTAL:0,TOT_DISCOUNT:0,TOT_ISV:0,TOT_SALE:0,TYP_TO_SALE:"Contado",COD_TYP_PAY:1,RTN:0}),s([]),o(1))};return e("div",{className:"modal fade",id:"saleSuccess","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:"modal-dialog modal-lg modal-success",children:a("div",{className:"modal-content",children:[e("div",{className:"modal-header",children:e("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:e("span",{"aria-hidden":"true",children:"\xD7"})})}),e("div",{className:"modal-body",children:i?a("h3",{className:"alert alert-success text-center mx-0",role:"alert",children:[e("strong",{children:e("i",{className:"fa-solid fa-circle-check mr-3"})}),n]}):a("h3",{className:"alert alert-danger text-center mx-0",role:"alert",children:[e("strong",{children:e("i",{className:"fa-solid fa-circle-check mr-3"})}),n]})}),e("div",{className:"modal-footer",children:e("button",{onClick:()=>m(),to:"/facturar",type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Listo"})})]})})})},ua=({saleInvoice:r,setsaleInvoice:c,setCurrentPage:o,correlativeInvoice:s,productListSale:n,setproductListSale:i})=>{const[m,d]=l.exports.useState(0),[u,h]=l.exports.useState(0),[f,N]=l.exports.useState(""),[g,E]=l.exports.useState({message:"",ok:!0}),{SUBTOTAL:O,TOT_ISV:C,TOT_SALE:t,TYP_TO_SALE:D,COD_CLIENT:R}=r;l.exports.useEffect(()=>{R===1&&D==="Cr\xE9dito"&&(c(v(A({},r),{TYP_TO_SALE:"Contado"})),N("No es posible vender al cr\xE9dito a un cliente sin registrar."),setTimeout(()=>{N("")},3e3))},[D]);const y=[{name:"C\xD3DIGO",selector:T=>T.COD_PRODUCT},{name:"PRODUCTO",selector:T=>T.NAM_PRODUCT,wrap:!0},{name:"DESCRIPCI\xD3N",selector:T=>T.DES_PRODUCT,wrap:!0},{name:"CANTIDAD",selector:T=>T.CANT_PRODUCTS},{name:"PRECIO",selector:T=>T.PRICE,format:T=>`L ${T.PRICE.toFixed(2)}`},{name:"ISV",selector:T=>T.ISV,format:T=>`L ${T.ISV.toFixed(2)}`},{name:"TOTAL",selector:T=>T.TOTAL,format:T=>`L ${T.TOTAL.toFixed(2)}`}],_=T=>{d(T.target.value)},w=T=>{c(v(A({},r),{[T.target.name]:T.target.value}))};l.exports.useEffect(()=>{h(r.TOT_SALE-m)},[m]);const H=()=>{p.post("/sale-invoice",r,b()).then(T=>{B()}).catch(T=>{E({message:"Algo fall\xF3 al intentar procesar la venta",ok:!1})})},B=()=>{p.post("/sale-detail",n,b()).then(T=>{E({message:"Venta procesada con \xE9xito.",ok:!0})})};return a("div",{className:"card text-dark card-facturar shadow",children:[e("div",{className:"card-header",children:"Finalizar venta"}),a("div",{className:"card-body p-3",children:[a("div",{className:"form-group row small mb-3",children:[e("label",{className:"col-sm-1 col-form-label pr-0",children:"Factura"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"number",className:"form-control form-control-sm",value:s,disabled:!0})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Usuario"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:r.NAM_USER})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Cliente"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:r.NAM_CLIENT})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Fecha"}),e("div",{className:"col-sm-2 pl-0 pr-4",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:I().format("DD-MM-YYYY")})})]}),e("hr",{className:"mt-0"}),e("div",{className:"row",children:e("p",{className:"ml-4 mb-0 text-gray-700",children:"Detalle de venta"})}),e(F,{columns:y,data:n,persistTableHead:!0,striped:!0}),a("div",{className:"row mt-3",children:[a("div",{className:"col-10 text-right text-bold",children:[e("h6",{children:"Subtotal"}),e("h6",{children:"ISV 15%"}),e("h4",{children:"Total"})]}),a("div",{className:"col-2",children:[e("h6",{children:`L. ${O.toFixed(2)}`}),e("h6",{children:`L. ${C.toFixed(2)}`}),e("h4",{children:`L. ${t.toFixed(2)}`})]})]}),e("hr",{}),e("p",{className:"ml-2 mb-0 text-gray-700",children:"Informaci\xF3n de cobro"}),a("div",{className:"row mt-2",children:[a("div",{className:"col-3 ml-2",children:[e("label",{className:"form-label",children:"Tipo de venta"}),a("select",{onChange:w,name:"TYP_TO_SALE",value:D,className:"form-control",required:!0,children:[e("option",{value:"Contado",children:"Contado"}),e("option",{value:"Cr\xE9dito",children:"Cr\xE9dito"})]})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",children:"M\xE9todo de pago"}),a("select",{onChange:w,name:"COD_TYP_PAY",defaultValue:"Contado",className:"form-control",required:!0,children:[e("option",{value:"1",children:"Efectivo"}),e("option",{value:"2",children:"Tarjeta"})]})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",children:"Cantidad recibida"}),e("input",{autoFocus:!0,onChange:_,className:"form-control",type:"number"})]}),a("div",{className:"col-2",children:[e("label",{className:"form-label",children:"Cambio"}),e("input",{value:`L. ${u.toFixed(2)}`,className:"form-control",type:"text",disabled:!0})]})]}),D==="Cr\xE9dito"?a("div",{className:"row mt-3",children:[a("div",{className:"col-4 ml-1",children:[e("label",{className:"form-label",children:"Fecha limite de cobro al cr\xE9dito"}),e("input",{onChange:w,className:"form-control",type:"date",name:"DAT_LIMIT"})]}),a("div",{className:"col-6 ml-1",children:[e("label",{className:"form-label",children:"Descripci\xF3n de la cuenta por cobrar"}),e("textarea",{onChange:w,className:"form-control",rows:3,type:"text",name:"DESCRIPTION"})]})]}):null]}),a("div",{className:"modal-footer",children:[e("button",{onClick:()=>o(2),className:"btn btn-dark",children:e("i",{className:"fa-solid fa-chevron-left"})}),a("button",{onClick:()=>H(),className:"btn btn-primary","data-toggle":"modal","data-target":"#saleSuccess",children:[e("i",{className:"fa-solid fa-circle-check mr-2"}),"Finalizar venta"]}),e(ma,{saleMessage:g,setsaleInvoice:c,setCurrentPage:o,setproductListSale:i})]}),f?e(ee,{message:f}):null]})},x=({idModal:r,title:c,content:o,messageError:s,modalSize:n="lg"})=>e("div",{className:"modal fade text-dark",id:r,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e("div",{className:`modal-dialog modal-${n}`,children:a("div",{className:"modal-content",children:[a("div",{className:"modal-header",children:[e("h5",{className:"modal-title",id:"exampleModalLabel",children:c}),e("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:e("span",{"aria-hidden":"true",children:"\xD7"})})]}),a("div",{className:"modal-body",children:[o,s?e(ee,{message:s}):null]})]})})}),ha=({productListSale:r,setproductListSale:c})=>{const[o,s]=l.exports.useState([]),[n,i]=l.exports.useState([]),[m,d]=l.exports.useState(null),[u,h]=l.exports.useState(0),[f,N]=l.exports.useState(null),[g,E]=l.exports.useState(""),[O,C]=l.exports.useState({COD_PRODUCT:0,NAM_PRODUCT:"",DES_PRODUCT:"",NORMAL_UNIT_PRICE:0,WHOLESALE_PRICE:0,WHOLESALE_CANT:0,NAM_TYPE_PRODUCT:""}),{COD_PRODUCT:t,NAM_PRODUCT:D,DES_PRODUCT:R,NORMAL_UNIT_PRICE:y,WHOLESALE_PRICE:_,WHOLESALE_CANT:w,NAM_TYPE_PRODUCT:H,ISV:B,CANT_TOTAL:T}=O;l.exports.useEffect(()=>{p.get("/categories",b()).then(M=>s(M.data))},[]),l.exports.useEffect(()=>{m&&p.get(`/products/${m}`,b()).then(M=>i(M.data))},[m]),l.exports.useEffect(()=>{f&&p.get(`/inventory/${f}`,b()).then(M=>C(M.data[0]))},[f]);const G=M=>{h(M.target.value)},z=()=>{let M;if(r.some(j=>j.COD_PRODUCT===t)){E("El producto ya ha sido agregado a lista."),setTimeout(()=>{E("")},3e3);return}if(u>T){E("No hay suficientes stocks del producto en inventario."),setTimeout(()=>{E("")},3e3);return}w>0?u<w?M=y:M=_:M=y;const $={COD_PRODUCT:t,NAM_PRODUCT:D,DES_PRODUCT:R,PRICE:M-M*B,CANT_PRODUCTS:u,ISV:B*M,TOTAL:u*M};c([...r,$]),L(),document.querySelector("#closeModalInventory").click()},L=()=>{d(null),h(0),N(null),C({COD_PRODUCT:0,NAM_PRODUCT:"",DES_PRODUCT:"",NORMAL_UNIT_PRICE:0,WHOLESALE_PRICE:0,WHOLESALE_CANT:0,NAM_TYPE_PRODUCT:""})};return e(U,{children:a("div",{className:"row",children:[a("div",{className:"col-8",children:[e("h6",{children:"Productos"}),e("div",{className:"row",children:o.map(({COD_CATEGORY:M,NAM_CATEGORY:S})=>e("div",{className:"col-3 mt-1 px-1",children:e("div",{onClick:()=>d(M),className:"btn btn-success btn-block",children:S})},M))}),e("div",{className:"row",children:n.map(({COD_PRODUCT:M,NAM_PRODUCT:S})=>e("div",{className:"col-3 mt-1 px-1",children:e("div",{onClick:()=>N(M),className:"btn btn-danger btn-block",children:S})},M))})]}),f?a("div",{className:"col-4 px-1",children:[a("div",{className:"row",children:[e("div",{className:"col-12",children:e("h3",{className:"mb-0",children:D})}),e("div",{className:"col-8",children:e("small",{className:"text-small text-secondary",children:R})}),e("div",{className:"col-4 text-right",children:e("small",{className:"text-small text-secondary",children:H})})]}),e("hr",{className:"mt-0"}),a("div",{className:"row mt-3",children:[a("div",{className:"col-6",children:[e("h6",{className:"mb-1",children:"Cantidad"}),e("input",{onChange:G,min:0,value:u,className:"form-control form-control-lg",type:"number"}),a("small",{className:"text-small text-secondary",children:["Existencias: ",T]})]}),a("div",{className:"col-6",children:[e("h6",{className:"mb-1",children:"Precio"}),e("input",{className:"form-control form-control-lg",value:w>0?u<w?`L. ${y.toFixed(2)}`:`L. ${_.toFixed(2)}`:`L. ${y.toFixed(2)}`,disabled:!0})]})]}),a("div",{className:"modal-footer mt-3 px-0",children:[e("button",{onClick:()=>z(),className:"btn btn-primary btn-block mx-0 "+(u<1?" disabled":""),children:"Agregar"}),e("button",{id:"closeModalInventory",className:"btn btn-dark btn-block mx-0","data-dismiss":"modal",children:"Cancelar"}),g?e(ee,{message:g}):null]})]}):null]})})},Na=({saleInvoice:r,setsaleInvoice:c,setCurrentPage:o,correlativeInvoice:s,productListSale:n,setproductListSale:i})=>{const[m,d]=l.exports.useState("");l.exports.useEffect(()=>{c(v(A({},r),{SUBTOTAL:n.reduce((C,t)=>C+t.PRICE*t.CANT_PRODUCTS,0),TOT_ISV:n.reduce((C,t)=>C+t.ISV*t.CANT_PRODUCTS,0),TOT_SALE:n.reduce((C,t)=>C+t.TOTAL,0)}))},[n]);const{SUBTOTAL:u,TOT_ISV:h,TOT_SALE:f}=r,N=[{name:"C\xD3DIGO",selector:C=>C.COD_PRODUCT},{name:"PRODUCTO",selector:C=>C.NAM_PRODUCT,wrap:!0},{name:"DESCRIPCI\xD3N",selector:C=>C.DES_PRODUCT,wrap:!0},{name:"CANTIDAD",selector:C=>C.CANT_PRODUCTS},{name:"PRECIO",selector:C=>C.PRICE,format:C=>`L ${C.PRICE.toFixed(2)}`},{name:"ISV",selector:C=>C.ISV,format:C=>`L ${C.ISV.toFixed(2)}`},{name:"TOTAL",selector:C=>C.TOTAL,format:C=>`L ${C.TOTAL.toFixed(2)}`},{name:"ELIMINAR",button:!0,cell:C=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>g(C.COD_PRODUCT),children:e("i",{className:"fa-solid fa-trash"})})})}],g=C=>{const t=n.filter(D=>D.COD_PRODUCT!==C);i(t)},E=()=>{if(!n.length){d("No se ha ingresado ning\xFAn producto en la lista."),setTimeout(()=>{d("")},3e3);return}o(3)},O=()=>{i([])};return a("div",{className:"card text-dark card-facturar shadow",children:[e("div",{className:"card-header",children:"Detalle de productos"}),e("div",{className:"card-body p-3",children:a("div",{className:"form-group row small mb-0",children:[e("label",{className:"col-sm-1 col-form-label pr-0",children:"Factura"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"number",className:"form-control form-control-sm",value:s,disabled:!0})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Usuario"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:r.NAM_USER})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Cliente"}),e("div",{className:"col-sm-2 px-0",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:r.NAM_CLIENT})}),e("label",{className:"col-sm-1 col-form-label pr-0",children:"Fecha"}),e("div",{className:"col-sm-2 pl-0 pr-4",children:e("input",{type:"text",className:"form-control form-control-sm",disabled:!0,value:I().format("DD-MM-YYYY")})})]})}),e("hr",{className:"mt-0"}),a("div",{className:"row",children:[e("div",{className:"col-6",children:e("h6",{className:"ml-3 text-gray-700",children:"Lista de productos"})}),a("div",{className:"col-6 text-right",children:[e("button",{autoFocus:!0,className:"btn btn-success mr-2","data-toggle":"modal","data-target":"#sale-inventory","data-placement":"bottom",title:"Agregar producto",children:e("i",{className:"fa-solid fa-plus"})}),e("button",{onClick:()=>O(),className:"btn btn-info mr-3","data-toggle":"tooltip","data-placement":"bottom",title:"Limpiar lista",children:e("i",{className:"fa-solid fa-broom"})})]})]}),e(F,{columns:N,data:n,persistTableHead:!0,striped:!0,className:"bg-light"}),e(x,{idModal:"sale-inventory",title:"Inventario",content:e(ha,{productListSale:n,setproductListSale:i}),modalSize:"xl"}),e("hr",{}),a("div",{className:"row",children:[a("div",{className:"col-10 text-right",children:[e("h6",{children:"Subtotal"}),e("h6",{children:"ISV 15%"}),e("h4",{children:"Total"})]}),a("div",{className:"col-2",children:[e("h6",{children:`L. ${u.toFixed(2)}`}),e("h6",{children:`L. ${h.toFixed(2)}`}),e("h4",{children:`L. ${f.toFixed(2)}`})]})]}),a("div",{className:"modal-footer",children:[e("button",{onClick:()=>o(1),className:"btn btn-dark",children:e("i",{className:"fa-solid fa-chevron-left"})}),e("button",{onClick:()=>E(),className:"btn btn-dark",children:e("i",{className:"fa-solid fa-chevron-right"})})]}),m?e(ee,{message:m}):null]})},pa=({setsaleInvoice:r,saleInvoice:c,setCurrentPage:o,setCorrelativeInvoice:s,correlativeInvoice:n,currentPage:i})=>{const[m,d]=l.exports.useState(""),{RTN:u}=c;l.exports.useEffect(()=>{c.COD_USER&&p.get(`/user/${c.COD_USER}`,b()).then(N=>{const{FIRST_NAME:g,LAST_NAME:E}=N.data[0];r(v(A({},c),{NAM_USER:`${g} ${E}`}))}).catch(N=>{r(v(A({},c),{NAM_USER:"Usuario no encontrado"}))})},[c.COD_USER]),l.exports.useEffect(()=>{p.get("/correlative",b()).then(N=>{const{CORRELATIVO:g}=N.data[0];s(g?g+1:1)})},[i]),l.exports.useEffect(()=>{if(u.length===14){p.get(`/find-client/${u}`,b()).then(N=>{const{COD_CLIENT:g,FIRST_NAME:E,LAST_NAME:O}=N.data[0];r(v(A({},c),{COD_CLIENT:g,NAM_CLIENT:`${E} ${O}`}))});return}},[u]);const h=({target:N})=>{r(v(A({},c),{[N.name]:N.value}))},f=()=>{if(c.NAM_USER===""){d("Ingrese su c\xF3digo de usuario."),setTimeout(()=>{d("")},3e3);return}if(c.NAM_CLIENT===""&&r(v(A({},c),{NAM_CLIENT:"CF"})),c.NAM_USER==="Usuario no encontrado"){d("Ingrese un c\xF3digo de usuario v\xE1lido."),setTimeout(()=>{d("")},3e3);return}o(2)};return a("div",{className:"card text-dark card-facturar shadow",children:[e("div",{className:"card-header",children:"Informaci\xF3n"}),a("div",{className:"card-body p-3",children:[a("div",{className:"row",children:[a("div",{className:"col-6",children:[a("div",{className:"row",children:[e("div",{className:"col-3",children:a("label",{className:"mt-1",children:[e("i",{className:"mr-1 fa-solid fa-hashtag"})," Factura"]})}),e("div",{className:"col-6",children:e("input",{className:"form-control form-control-sm",type:"text",value:n,disabled:!0})})]}),a("div",{className:"row mt-2",children:[e("div",{className:"col-3",children:a("label",{className:"mt-1",children:[e("i",{className:"mr-1 fa-solid fa-user"})," Usuario"]})}),e("div",{className:"col-3",children:e("input",{className:"form-control form-control form-control-sm",type:"number",onChange:h,value:c.COD_USER,autoFocus:!0,name:"COD_USER",min:1})}),e("div",{className:"col-6",children:e("input",{className:"form-control form-control form-control-sm",type:"text",disabled:!0,value:c.NAM_USER})})]}),a("div",{className:"row mt-2",children:[e("div",{className:"col-3",children:a("label",{className:"mt-1",children:[e("i",{className:"mr-1 fa-solid fa-calendar-days"})," Fecha"]})}),e("div",{className:"col-4",children:e("input",{className:"form-control form-control form-control-sm",type:"text",disabled:!0,value:I().format("DD-MM-YYYY")})})]})]}),e("div",{className:"col-6"})]}),e("hr",{}),a("div",{className:"row",children:[e("div",{className:"col-4 text-right",children:e("label",{className:"mt-2",children:"Cliente"})}),e("div",{className:"col-4",children:e("input",{onChange:h,className:"form-control form-control",type:"text",value:c.NAM_CLIENT,name:"NAM_CLIENT"})})]}),a("div",{className:"row mt-2",children:[e("div",{className:"col-4 text-right",children:e("label",{className:"mt-2",children:"RTN"})}),e("div",{className:"col-4",children:e("input",{onChange:h,className:"form-control form-control",type:"number",value:c.RTN,name:"RTN"})})]})]}),e("div",{className:"modal-footer",children:e("button",{onClick:()=>f(),className:"btn btn-dark",children:e("i",{className:"fa-solid fa-chevron-right"})})}),m?e(ee,{message:m}):null]})},ba=()=>{const[r,c]=l.exports.useState(1),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState([]),[m,d]=l.exports.useState({COD_CLIENT:1,NAM_CLIENT:"CF",COD_USER:"",NAM_USER:"",SUBTOTAL:0,TOT_DISCOUNT:0,TOT_ISV:0,TOT_SALE:0,TYP_TO_SALE:"Contado",COD_TYP_PAY:1,RTN:0});return e("div",{className:"container-fluid",children:a("div",{className:"row",children:[a("div",{className:"col-12",children:[r===1&&e(pa,{setsaleInvoice:d,saleInvoice:m,setCurrentPage:c,setCorrelativeInvoice:s,correlativeInvoice:o,currentPage:r}),r===2&&e(Na,{saleInvoice:m,setsaleInvoice:d,setCurrentPage:c,correlativeInvoice:o,productListSale:n,setproductListSale:i}),r===3&&e(ua,{saleInvoice:m,setsaleInvoice:d,setCurrentPage:c,correlativeInvoice:o,productListSale:n,setproductListSale:i})]}),e("div",{className:"col-12 text-right mb-5",children:a(te,{to:"/dashboard",className:"btn btn-danger",children:[e("i",{className:"mr-2 fa-solid fa-circle-chevron-left"}),"Dashboard"]})})]})})},V=()=>e("div",{className:"spinner"}),W=({filterText:r,onFilter:c})=>e(U,{children:e("input",{id:"search",className:"form-control form-control-sm filterInput",type:"text",placeholder:"Buscar","aria-label":"Search Input",value:r,onChange:c})}),Ca=async()=>{const{data:r}=await p.get("/sale-invoice",b());return r},k={rowsPerPageText:"Filas por p\xE1gina",rangeSeparatorText:"de",selectAllRowsItem:!0,selectAllRowsItemText:"Todos"},fa=({rowCOD:r})=>{const[c,o]=l.exports.useState([]);return l.exports.useEffect(()=>{r&&p.get(`/sale-detail/${r}`,b()).then(n=>o(n.data))},[r]),e(F,{columns:[{name:"C\xD3DIGO DEL PRODUCTO",selector:n=>n.COD_PRODUCT},{name:"PRODUCTO",selector:n=>n.NAM_PRODUCT,allowOverflow:!0},{name:"CANTIDAD",selector:n=>n.CANT_PRODUCTS},{name:"PRECIO",selector:n=>n.PRICE,format:n=>`L ${n.PRICE.toFixed(2)}`},{name:"DESCUENTO",selector:n=>n.DISCOUNT,format:n=>`L ${n.DISCOUNT.toFixed(2)}`},{name:"TOTAL",selector:n=>n.TOTAL,format:n=>`L ${n.TOTAL.toFixed(2)}`}],data:c,responsive:!0,pagination:!0,paginationComponentOptions:k,highlightOnHover:!0,striped:!0,persistTableHead:!0})},ga=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(null),u=[{name:"# FACTURA",selector:N=>N.COD_INVOICE,sortable:!0},{name:"CLIENTE",selector:N=>N.CLIENT,sortable:!0,allowOverflow:!0},{name:"SUBTOTAL",selector:N=>N.SUBTOTAL,sortable:!0,format:N=>`L ${N.SUBTOTAL.toFixed(2)}`},{name:"TOTAL DESCUENTO",selector:N=>N.TOT_DISCOUNT,sortable:!0,format:N=>`L ${N.TOT_DISCOUNT.toFixed(2)}`},{name:"TOTAL ISV",selector:N=>N.TOT_ISV,sortable:!0,format:N=>`L ${N.TOT_ISV.toFixed(2)}`},{name:"TOTAL VENTA",selector:N=>N.TOT_SALE,sortable:!0,format:N=>`L ${N.TOT_SALE.toFixed(2)}`},{name:"TIPO DE TRANSACCI\xD3N",selector:N=>N.TYP_TO_SALE,sortable:!0},{name:"FORMA DE PAGO",selector:N=>N.NAM_TYPE_PAY,sortable:!0},{name:"USUARIO",selector:N=>N.USER_NAME,sortable:!0,allowOverflow:!0},{name:"FECHA",selector:N=>N.DAT_INVOICE,sortable:!0,allowOverflow:!0,format:N=>I(N.DAT_INVOICE).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:N=>e(U,{children:e("button",{className:"btn btn-sm btn-primary me-1","data-toggle":"modal","data-target":"#viewDetail",onClick:()=>d(N.COD_INVOICE),children:e("i",{className:"fa-solid fa-eye"})})})}],h=r.filter(N=>JSON.stringify(N).toLowerCase().indexOf(o.toLowerCase())!==-1),f=l.exports.useMemo(()=>e(W,{onFilter:N=>s(N.target.value),filterText:o}),[o]);return l.exports.useEffect(async()=>{const N=await Ca();c(N),i(!1)},[]),n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Detalle de venta"}),a("div",{className:"card-body",children:[e(F,{columns:u,data:h,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:f,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"viewDetail",title:"Detalle de venta",content:e(fa,{rowCOD:m}),modalSize:"xl"})]})]})},Ea=({setSendRequest:r})=>{const[c,o]=l.exports.useState(""),[s,n]=l.exports.useState({userCodProduct:"",userCantProduct:""}),[i,m]=l.exports.useState({SUBTOTAL:0,TOT_ISV:0,TOT_PURCHASE:0,TYP_TO_PURCHASE:"",COD_TYP_PAY:"",DAT_INVOICE:"",DESCRIPTION:"",DATE_LIMIT:""}),{SUBTOTAL:d,TOT_ISV:u,TOT_PURCHASE:h,TYP_TO_PURCHASE:f,COD_TYP_PAY:N,DAT_INVOICE:g,DESCRIPTION:E,DATE_LIMIT:O}=i,{userCodProduct:C,userCantProduct:t}=s,[D,R]=l.exports.useState({COD_PRODUCT:"",NAM_PRODUCT:""}),[y,_]=l.exports.useState([]),w=[{name:"C\xD3DIGO",selector:S=>S.COD_PRODUCT},{name:"NOMBRE",selector:S=>S.NAM_PRODUCT},{name:"PRECIO UNITARIO",selector:S=>S.PRICE,format:S=>`L. ${S.PRICE.toFixed(2)}`},{name:"CANTIDAD",selector:S=>S.CANT_PRODUCTS},{name:"ISV",selector:S=>S.ISV,format:S=>`L. ${S.ISV.toFixed(2)}`},{name:"TOTAL",selector:S=>S.TOTAL,format:S=>`L. ${S.TOTAL.toFixed(2)}`},{name:"ACCIONES",button:!0,cell:S=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>z(S.COD_PRODUCT),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{C&&p.get(`/inventory/${C}`,b()).then(S=>{console.log(S.data[0]),S.data[0]?R(S.data[0]):R({NAM_PRODUCT:"Producto no encontrado"})})},[C]),l.exports.useEffect(()=>{m(v(A({},i),{SUBTOTAL:y.reduce((S,$)=>S+$.PRICE,0),TOT_ISV:y.reduce((S,$)=>S+$.ISV,0),TOT_PURCHASE:y.reduce((S,$)=>S+$.TOTAL,0)}))},[y]);const H=S=>{m(v(A({},i),{[S.target.name]:S.target.value}))},B=S=>{n(v(A({},s),{[S.target.name]:S.target.value}))},T=()=>{const{COD_PRODUCT:S,NAM_PRODUCT:$,PURCHASE_PRICE:j,ISV:de}=D;if(!C||$==="Producto no encontrado"){o("Ingrese un c\xF3digo de producto v\xE1lido."),setTimeout(()=>{o("")},3e3);return}if(y.some(Oe=>Oe.COD_PRODUCT===S)){o("El producto ya se encuentra agregado en la lista."),setTimeout(()=>{o("")},3e3);return}const De={COD_PRODUCT:S,NAM_PRODUCT:$,PRICE:j-de*j,ISV:de*(j*t),CANT_PRODUCTS:t,TOTAL:j*t};_([...y,De]),G()},G=()=>{n({userCodProduct:"",userCantProduct:""}),R({COD_PRODUCT:"",NAM_PRODUCT:""})},z=S=>{const $=y.filter(j=>j.COD_PRODUCT!==S);_($)},L=S=>{S.preventDefault(),i.COD_ORDER===""&&delete i.COD_ORDER,E===""&&delete i.DESCRIPTION,O===""&&delete i.DATE_LIMIT,p.post("/purchase-invoice",i,b()).then($=>{M()}).catch($=>{const{message:j}=$.response.data;o(j),setTimeout(()=>{o("")},3e3)})},M=()=>{p.post("/purchase-detail",y,b()).then(S=>{m({SUBTOTAL:0,TOT_ISV:0,TOT_PURCHASE:0,TYP_TO_PURCHASE:"",COD_TYP_PAY:"",DAT_INVOICE:"",DESCRIPTION:"",DATE_LIMIT:""}),r(!0),document.querySelector("#closeModalAddPurchase").click(),_([])})};return a("form",{onSubmit:L,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-3",children:[e("label",{className:"form-label",htmlFor:"COD_ORDER",children:"Codigo del pedido"}),e("input",{onChange:H,className:"form-control",name:"COD_ORDER",type:"number"})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"Codigo del producto"}),e("input",{value:C,onChange:B,className:"form-control",name:"userCodProduct",type:"number"})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_PRODUCT",children:"Nombre del producto"}),e("input",{value:D.NAM_PRODUCT,className:"form-control",name:"NAM_PRODUCT",type:"text",disabled:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad de productos"}),e("input",{value:t,onChange:B,className:"form-control",name:"userCantProduct",type:"number",min:"1"})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"TYP_TO_PURCHASE",children:"Tipo de compra"}),a("select",{value:f,onChange:H,className:"form-control",name:"TYP_TO_PURCHASE",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),e("option",{value:"Contado",children:"Contado"}),e("option",{value:"Cr\xE9dito",children:"Cr\xE9dito"})]})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"COD_TYP_PAY",children:"Forma de pago"}),a("select",{value:N,onChange:H,className:"form-control",name:"COD_TYP_PAY",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),e("option",{value:1,children:"Efectivo"}),e("option",{value:2,children:"Tarjeta"}),e("option",{value:3,children:"Transferencia"})]})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_INVOICE",children:"Fecha"}),e("input",{value:g,onChange:H,className:"form-control",name:"DAT_INVOICE",type:"date",required:!0})]}),e("div",{className:"col-md-1",children:e("div",{className:"mt-3",children:e("button",{onClick:()=>T(),type:"button",className:"btn btn-success mt-4",title:"Agregar producto",children:"+"})})}),f==="Cr\xE9dito"?a(U,{children:[a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("textarea",{onChange:H,value:E,onChange:H,rows:3,className:"form-control",name:"DESCRIPTION",type:"text",placeholder:"Descripci\xF3n de la cuenta por pagar",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"DATE_LIMIT",children:"Fecha limite CP"}),e("input",{value:O,onChange:H,className:"form-control",name:"DATE_LIMIT",type:"date",required:!0})]})]}):null,e(F,{columns:w,data:y,responsive:!0,highlightOnHover:!0,striped:!0,persistTableHead:!0})]}),a("div",{className:"row mt-2",children:[a("div",{className:"col-10 text-right",children:[e("h6",{children:"Subtotal"}),e("h6",{children:"ISV total"}),e("h5",{children:"Total"})]}),a("div",{className:"col-2",children:[e("h6",{children:`L. ${d.toFixed(2)}`}),e("h6",{children:`L. ${u.toFixed(2)}`}),e("h5",{children:`L. ${h.toFixed(2)}`})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"closeModalAddPurchase",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]}),c?e(ee,{message:c}):null]})},Ta=({rowCOD:r,sendRequest:c})=>{const[o,s]=l.exports.useState([]);return l.exports.useEffect(()=>{r&&p.get(`/purchase-detail/${r}`,b()).then(i=>s(i.data))},[r,c]),e(F,{columns:[{name:"C\xD3DIGO",selector:i=>i.COD_PRODUCT},{name:"PRODUCTO",selector:i=>i.NAM_PRODUCT},{name:"PRECIO",selector:i=>i.PRICE},{name:"CANTIDAD",selector:i=>i.CANT_PRODUCTS},{name:"TOTAL",selector:i=>i.TOTAL}],data:o,responsive:!0,highlightOnHover:!0,striped:!0,persistTableHead:!0})},Da=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"# DE FACTURA",selector:t=>t.COD_INVOICE,sortable:!0},{name:"TIPO DE TRANSACCION",selector:t=>t.TYP_TO_PURCHASE,sortable:!0},{name:"FORMA DE PAGO",selector:t=>t.NAM_TYPE_PAY,sortable:!0},{name:"SUBTOTAL",selector:t=>t.SUBTOTAL,sortable:!0,format:t=>`L. ${t.SUBTOTAL.toFixed(2)}`},{name:"ISV TOTAL",selector:t=>t.TOT_ISV,sortable:!0,format:t=>`L. ${t.TOT_ISV.toFixed(2)}`},{name:"TOTAL COMPRA",selector:t=>t.TOT_PURCHASE,sortable:!0,format:t=>`L. ${t.TOT_PURCHASE.toFixed(2)}`},{name:"FECHA",selector:t=>t.DAT_INVOICE,sortable:!0,format:t=>I(t.DAT_ORDER).format("DD-MM-YYYY")},{name:"# PEDIDO",selector:t=>t.COD_ORDER,sortable:!0,format:t=>t.COD_ORDER===null?"Sin orden relacionada":t.COD_ORDER,grow:2},{name:"EMPLEADO",selector:t=>t.USER_NAME,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-primary mr-1","data-toggle":"modal","data-target":"#viewInvoiceDetail",onClick:()=>N(t.COD_INVOICE),children:e("i",{className:"fa-solid fa-eye"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_INVOICE),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/purchase-invoice",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/purchase-invoice/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Factura de compras"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addFactura",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addFactura",title:"Agregar factura",messageError:m,content:e(Ea,{setSendRequest:h})}),e(x,{idModal:"viewInvoiceDetail",title:"Detalle de factura",messageError:m,content:e(Ta,{rowCOD:f})})]})]})},Oa=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_SUPPLIER:"",DAT_REQUIRED:""}),[n,i]=l.exports.useState({COD_PRODUCT:"",DES_ORDER:"",CANT_PRODUCTS:""}),[m,d]=l.exports.useState([]),{DAT_REQUIRED:u}=o,{COD_PRODUCT:h,DES_ORDER:f,CANT_PRODUCTS:N}=n,g=()=>{i({COD_PRODUCT:"",DES_ORDER:"",CANT_PRODUCTS:""}),O({COD_PRODUCT:"",NAM_PRODUCT:""})},[E,O]=l.exports.useState({COD_PRODUCT:"",NAM_PRODUCT:""}),[C,t]=l.exports.useState([]),D=[{name:"CODIGO",selector:T=>T.COD_PRODUCT},{name:"NOMBRE",selector:T=>T.NAM_PRODUCT},{name:"DESCRIPCION",selector:T=>T.DES_ORDER},{name:"CANTIDAD",selector:T=>T.CANT_PRODUCTS},{name:"ACCIONES",button:!0,cell:T=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>B(T.COD_PRODUCT),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{n.COD_PRODUCT&&p.get(`/inventory/${n.COD_PRODUCT}`,b()).then(T=>{T.data[0]?O(T.data[0]):O(v(A({},E),{COD_PRODUCT:"",NAM_PRODUCT:"Producto no encontrado"}))})},[n.COD_PRODUCT]),l.exports.useEffect(()=>{p.get("/supplier",b()).then(T=>d(T.data))},[]);const R=T=>{s(v(A({},o),{[T.target.name]:T.target.value}))},y=T=>{i(v(A({},n),{[T.target.name]:T.target.value}))},_=()=>{const{COD_PRODUCT:T,NAM_PRODUCT:G}=E,{DES_ORDER:z,CANT_PRODUCTS:L}=n;if(n.COD_PRODUCT===""){c("Inserte un producto"),setTimeout(()=>{c("")},3e3);return}if(C.some($=>$.COD_PRODUCT===T)){c("El producto ya se encuentra agregado en la lista."),setTimeout(()=>{c("")},3e3);return}const S={COD_PRODUCT:T,NAM_PRODUCT:G,DES_ORDER:z,CANT_PRODUCTS:L};t([...C,S]),g()},w=T=>{T.preventDefault(),p.post("/order",o,b()).then(G=>{document.querySelector("#idCloseForm").click(),T.target.reset(),r(!0),H(),g(),t([]),s({COD_SUPPLIER:"",DAT_REQUIRED:""})})},H=()=>{p.post("/order-detail",C,b())},B=T=>{const G=C.filter(z=>z.COD_PRODUCT!==T);t([...G])};return a("form",{onSubmit:w,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_SUPPLIER",children:"Proveedor"}),a("select",{onChange:R,defaultValue:"default",className:"form-control",name:"COD_SUPPLIER",type:"text",required:!0,children:[e("option",{valu:"default",children:"-Seleccionar-"}),m.map(T=>e("option",{value:T.COD_SUPPLIER,children:T.NAM_SUPPLIER},T.COD_SUPPLIER))]})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"Codigo del producto"}),e("input",{onChange:y,value:h,className:"form-control",name:"COD_PRODUCT",type:"number",min:"1"})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAME_PRODUCT",children:"Nombre del Producto"}),e("input",{value:E.NAM_PRODUCT,className:"form-control",name:"NAME_PRODUCT",disabled:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad"}),e("input",{onChange:y,value:N,className:"form-control",name:"CANT_PRODUCTS",type:"number",min:"1"})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_REQUIRED",children:"Fecha requerida"}),e("input",{onChange:R,value:u,className:"form-control",name:"DAT_REQUIRED",type:"date",required:!0})]}),e("div",{className:"col-md-4 mt-2",children:e("div",{className:"mt-2",children:e("button",{onClick:()=>_(),type:"button",className:"btn btn-success mt-4",title:"Agregar producto",children:e("i",{className:"fa-solid fa-plus"})})})}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"DES_ORDER",children:"Descripcion"}),e("textarea",{onChange:y,value:f,rows:3,className:"form-control",name:"DES_ORDER",type:"text"})]}),e(F,{columns:D,data:C,responsive:!0,highlightOnHover:!0,striped:!0,persistTableHead:!0})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Aa=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({COD_SUPPLIER:"",DAT_REQUIRED:"",DES_ORDER:"",COD_STATUS:""}),[i,m]=l.exports.useState({COD_PRODUCT:"",DES_ORDER:"",CANT_PRODUCTS:""}),[d,u]=l.exports.useState({NAM_PRODUCT:""}),{COD_PRODUCT:h,DES_ORDER:f}=i,[N,g]=l.exports.useState([]),E=[{name:"CODIGO",selector:_=>_.COD_PRODUCT},{name:"NOMBRE",selector:_=>_.NAM_PRODUCT},{name:"DESCRIPCION",selector:_=>_.DES_ORDER},{name:"CANTIDAD",selector:_=>_.CANT_PRODUCTS},{name:"ACCIONES",button:!0,cell:_=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>y(_.COD_PRODUCT),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{i.COD_PRODUCT&&p.get(`/inventory/${i.COD_PRODUCT}`,b()).then(_=>{_.data[0]?u(_.data[0]):u(v(A({},d),{NAM_PRODUCT:"Producto no encontrado"}))})},[i.COD_PRODUCT]),l.exports.useEffect(()=>{r&&p.get(`/order/${r}`,b()).then(_=>{const{DAT_REQUIRED:w}=_.data[0];n(v(A({},_.data[0]),{DAT_REQUIRED:I(w).format("YYYY-MM-DD")}))})},[r]),l.exports.useEffect(()=>{r&&p.get(`/order-detail/${r}`,b()).then(_=>g(_.data))},[r]);const O=_=>{n(v(A({},s),{[_.target.name]:_.target.value}))},C=_=>{m(v(A({},i),{[_.target.name]:_.target.value}))},t=()=>{const{COD_PRODUCT:_,NAM_PRODUCT:w}=d,{DES_ORDER:H,CANT_PRODUCTS:B}=i;if(w===""||w==="Producto no encontrado"){o("Ingrese un producto v\xE1lido."),setTimeout(()=>{o("")},3e3);return}if(N.some(z=>z.COD_PRODUCT===_)){o("El producto ya esta"),setTimeout(()=>{o("")},3e3);return}const G={COD_PRODUCT:_,NAM_PRODUCT:w,DES_ORDER:H,CANT_PRODUCTS:B};g([...N,G]),m({COD_PRODUCT:"",DES_ORDER:"",CANT_PRODUCTS:""}),u({NAM_PRODUCT:""})},D=_=>{_.preventDefault(),p.put(`/order/${r}`,s,b()).then(w=>{document.querySelector("#idCloseFormEdit").click(),_.target.reset(),c(!0),R()})},R=()=>{p.put(`/order-detail/${r}`,N,b())},y=_=>{const w=N.filter(H=>H.COD_PRODUCT!==_);g([...w])};return a("form",{onSubmit:D,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_SUPPLIER",children:"Proveedor"}),e("input",{value:`${s.NAM_SUPPLIER}`,className:"form-control",name:"COD_SUPPLIER",type:"text",disabled:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"Codigo del producto"}),e("input",{onChange:C,value:i.COD_PRODUCT,value:h,className:"form-control",name:"COD_PRODUCT",type:"number",min:"1"})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAME_PRODUCT",children:"Nombre del Producto"}),e("input",{value:d.NAM_PRODUCT,className:"form-control",name:"NAME_PRODUCT",disabled:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad"}),e("input",{onChange:C,value:i.CANT_PRODUCTS,className:"form-control",name:"CANT_PRODUCTS",type:"number",min:"1"})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_REQUIRED",children:"Fecha requerida"}),e("input",{onChange:O,value:I(s.DAT_REQUIRED).format("YYYY-MM-DD"),className:"form-control",name:"DAT_REQUIRED",type:"date"})]}),e("div",{className:"col-md-4",children:e("div",{className:"mt-3",children:e("button",{onClick:()=>t(),type:"button",className:"btn btn-success mt-4",title:"Agregar producto",children:e("i",{className:"fa-solid fa-plus"})})})}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"COD_STATUS",children:"Estado del pedido"}),a("select",{onChange:O,value:s.COD_STATUS,className:"form-control",name:"COD_STATUS",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),e("option",{value:5,children:"En proceso"}),e("option",{value:6,children:"Recibido"})]})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"DES_ORDER",children:"Descripcion"}),e("textarea",{onChange:C,value:f,rows:3,className:"form-control",name:"DES_ORDER",type:"text"})]}),e(F,{columns:E,data:N,responsive:!0,highlightOnHover:!0,striped:!0,persistTableHead:!0})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseFormEdit",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},va=({rowCOD:r,sendRequest:c})=>{const[o,s]=l.exports.useState([]);return l.exports.useEffect(()=>{r&&p.get(`/order-detail/${r}`,b()).then(i=>s(i.data))},[r,c]),e(F,{columns:[{name:"PRODUCTO",selector:i=>i.NAM_PRODUCT},{name:"DESCRIPCI\xD3N",selector:i=>i.DES_ORDER},{name:"CANTIDAD",selector:i=>i.CANT_PRODUCTS}],data:o,responsive:!0,highlightOnHover:!0,striped:!0,persistTableHead:!0})},Sa=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"# DE PEDIDO",selector:t=>t.COD_ORDER,sortable:!0},{name:"PROVEEDOR",selector:t=>t.NAM_SUPPLIER,sortable:!0},{name:"FECHA DEL PEDIDO",selector:t=>t.DAT_ORDER,sortable:!0,format:t=>I(t.DAT_ORDER).format("DD-MM-YYYY")},{name:"FECHA REQUERIDA",selector:t=>t.DAT_REQUIRED,sortable:!0,format:t=>I(t.DAT_REQUIRED).format("DD-MM-YYYY")},{name:"ESTADO",selector:t=>t.NAM_STATUS,sortable:!0},{name:"EMPLEADO",selector:t=>t.USER_NAME,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-primary mr-1","data-toggle":"modal","data-target":"#viewOrderDetail",onClick:()=>N(t.COD_ORDER),children:e("i",{className:"fa-solid fa-eye"})}),e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_ORDER)},"data-toggle":"modal","data-target":"#editOrder",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_ORDER),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/order",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/order/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Pedidos"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addOrder",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addOrder",title:"A\xF1adir Pedido",messageError:m,content:e(Oa,{rowCOD:f,setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editOrder",title:"Actualizar Pedido",messageError:m,content:e(Aa,{rowCOD:f,setSendRequest:h,setMessageError:d})}),e(x,{idModal:"viewOrderDetail",title:"Detalle del pedido",messageError:m,content:e(va,{rowCOD:f,sendRequest:u})})]})]})},P=r=>{r.target.value=(r.target.value+"").charAt(0).toUpperCase(0)+(r.target.value+"").slice(1).toLowerCase()},_a=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState([]),[n,i]=l.exports.useState({IDENTITY:"",FIRST_NAME:"",MIDDLE_NAME:"",LAST_NAME:"",GENDER:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",NUM_REFERENCE:"",DAT_BIRTHDAY:"",NAM_CITY:"",ADDRESS:"",COD_ROLES:"",USER_EMAIL:"",USER_PASSWORD:""});l.exports.useEffect(()=>{p.get("/roles",b()).then(u=>{const h=u.data.filter(f=>f.COD_ROLE!==2);s(h)})},[]);const m=u=>{i(v(A({},n),{[u.target.name]:u.target.value}))};return a("form",{id:"addFormUser",onSubmit:u=>{u.preventDefault(),p.post("/User",n,b()).then(h=>{document.querySelector("#idCloseAddForm").click(),u.target.reset(),r(!0)}).catch(h=>{const{message:f}=h.response.data;c(f),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"IDENTITY",children:"Identidad"}),e("input",{onChange:m,className:"form-control",name:"IDENTITY",minlenght:13,maxLength:13,type:"text",pattern:"[0-9]{1,13}",title:"Debe cumplir con el limite de caracteres de su DNI",required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"FIRST_NAME",children:"Primer nombre"}),e("input",{onChange:m,className:"form-control",name:"FIRST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"MIDDLE_NAME",children:"Segundo nombre"}),e("input",{onChange:m,className:"form-control",name:"MIDDLE_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"LAST_NAME",children:"Apellido"}),e("input",{onChange:m,className:"form-control",name:"LAST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"GENDER",children:"G\xE9nero"}),a("select",{onChange:m,defaultValue:"",className:"form-control",name:"GENDER",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),e("option",{value:"M",children:"Masculino"}),e("option",{value:"F",children:"Femenino"}),e("option",{value:"O",children:"Prefiero no decirlo"})]})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:m,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,title:"El numero telfonico debe contener 8 caracteres",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:m,className:"form-control",name:"NUM_PHONE_TWO",type:"text",pattern:"[0-9]{1,8}",min:0,maxLength:8,title:"OPCIONAL",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_REFERENCE",children:"T\xE9lefono de referencia"}),e("input",{onChange:m,className:"form-control",name:"NUM_REFERENCE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_BIRTHDAY",children:"Fecha de nacimiento"}),e("input",{onChange:m,className:"form-control",name:"DAT_BIRTHDAY",type:"DATE",min:"1950-01-01",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NAM_CITY",children:"Ciudad"}),e("input",{onChange:m,className:"form-control",name:"NAM_CITY",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-8 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:m,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",onInput:P,required:!0})]}),e("br",{}),e("br",{}),e("br",{}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"COD_ROLE",children:"Rol"}),a("select",{onChange:m,defaultValue:"",className:"form-control",name:"COD_ROLE",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),o.map(u=>e("option",{value:u.COD_ROLE,children:u.NAM_ROLE},u.COD_ROLE))]})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"EMAIL",children:"Correo eletr\xF3nico"}),e("input",{onChange:m,className:"form-control",name:"USER_EMAIL",type:"email",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"PASSWORD",children:"Contrase\xF1a"}),e("input",{onChange:m,className:"form-control form-control-user",name:"USER_PASSWORD",type:"password",minLength:8,maxLength:20,pattern:"[A-Z]{1,20}[a-z]{1,20}[0-9]{1,20}",title:"la contrase\xF1a debe contener : mayusculas,numero,minusculas por su seguridad",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Ra=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState([]),[i,m]=l.exports.useState({IDENTITY:"",FIRST_NAME:"",MIDDLE_NAME:"",LAST_NAME:"",GENDER:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",NUM_REFERENCE:"",DAT_BIRTHDAY:"",NAM_CITY:"",ADDRESS:"",COD_ROLE:"",USER_EMAIL:""});l.exports.useEffect(()=>{p.get("/roles",b()).then(h=>{const f=h.data.filter(N=>N.COD_ROLE!==2);n(f)})},[]);const d=h=>{m(v(A({},i),{[h.target.name]:h.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/User/${r}`,b()).then(h=>{m(v(A({},h.data[0]),{DAT_BIRTHDAY:I(h.data[0].DAT_BIRTHDAY).format("YYYY-MM-DD")}))})},[r]),a("form",{id:"editFormUser",onSubmit:h=>{delete i.IMG_USER,delete i.USER_PASSWORD,h.preventDefault(),p.put(`/User/${r}`,i,b()).then(f=>{document.querySelector("#idCloseEditForm").click(),c(!0)}).catch(f=>{const{message:N}=f.response.data;o(N),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"IDENTITY",children:"Identidad"}),e("input",{onChange:d,value:i.IDENTITY,className:"form-control",name:"IDENTITY",minlenght:13,maxLength:13,type:"tel",pattern:"[0-9]{1,13}",required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"FIRST_NAME",children:"Primer nombre"}),e("input",{onChange:d,value:i.FIRST_NAME,className:"form-control",name:"FIRST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",title:"La primera letra debe ser MAYUSCULA",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"MIDDLE_NAME",children:"Segundo nombre"}),e("input",{onChange:d,value:i.MIDDLE_NAME,className:"form-control",name:"MIDDLE_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",title:"La primera letra debe ser MAYUSCULA",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"LAST_NAME",children:"Apellido"}),e("input",{onChange:d,value:i.LAST_NAME,className:"form-control",name:"LAST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",title:"La primera letra debe ser MAYUSCULA",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"GENDER",children:"G\xE9nero"}),a("select",{onChange:d,value:i.GENDER,className:"form-control",name:"GENDER",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),e("option",{value:"M",children:"Masculino"}),e("option",{value:"F",children:"Femenino"}),e("option",{value:"O",children:"Prefiero no decirlo"})]})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:d,value:i.NUM_PHONE_ONE,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,title:"El numero telfonico debe contener 8 caracteres",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:d,value:i.NUM_PHONE_TWO,className:"form-control",name:"NUM_PHONE_TWO",type:"tel",pattern:"[0-9]{1,8}",minLength:8,maxLength:8,title:"OPCIONAL",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_REFERENCE",children:"T\xE9lefono de referencia"}),e("input",{onChange:d,value:i.NUM_REFERENCE,className:"form-control",name:"NUM_REFERENCE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_BIRTHDAY",children:"Fecha de nacimiento"}),e("input",{onChange:d,value:I(i.DAT_BIRTHDAY).format("YYYY-MM-DD"),className:"form-control",name:"DAT_BIRTHDAY",type:"date",min:"1950-01-01",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NAM_CITY",children:"Ciudad"}),e("input",{onChange:d.DAT_BIRTHDAY,value:i.NAM_CITY,className:"form-control",name:"NAM_CITY",type:"text",onInput:P,pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",required:!0})]}),a("div",{className:"col-md-8 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:d,value:i.ADDRESS,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",required:!0})]}),e("br",{}),e("br",{}),e("br",{}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"COD_ROLE",children:"Rol"}),a("select",{onChange:d,value:i.COD_ROLE,className:"form-control",name:"COD_ROLE",type:"text",required:!0,children:[e("option",{value:"",children:"-Seleccionar-"}),s.map(h=>e("option",{value:h.COD_ROLE,children:h.NAM_ROLE},h.COD_ROLE))]})]}),a("div",{className:"col-md-5 mt-2",children:[e("label",{className:"form-label",htmlFor:"USER_EMAIL",children:"Correo electr\xF3nico"}),e("input",{onChange:d,value:i.USER_EMAIL,className:"form-control",name:"USER_EMAIL",type:"email",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},xa=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"C\xD3DIGO",selector:t=>t.COD_USER,sortable:!0},{name:"IDENTIDAD",selector:t=>t.IDENTITY,sortable:!0,grow:2,format:t=>`0${t.IDENTITY}`},{name:"NOMBRE",selector:t=>t.FIRST_NAME,sortable:!0},{name:"SEGUNDO NOMBRE",selector:t=>t.MIDDLE_NAME,sortable:!0},{name:"APELLIDO",selector:t=>t.LAST_NAME,sortable:!0},{name:"EMAIL",selector:t=>t.USER_EMAIL,sortable:!0,wrap:!0,grow:2},{name:"ROL",selector:t=>t.NAM_ROLE,sortable:!0},{name:"G\xC9NERO",selector:t=>t.GENDER,sortable:!0},{name:"TEL 1",selector:t=>t.NUM_PHONE_ONE,sortable:!0},{name:"TEL 2",selector:t=>t.NUM_PHONE_TWO,sortable:!0,format:t=>t.NUM_PHONE_TWO===0?"Sin n\xFAmero":t.NUM_PHONE_TWO},{name:"TEL REF",selector:t=>t.NUM_REFERENCE,sortable:!0},{name:"FECHA DE NACIMIENTO",selector:t=>t.DAT_BIRTHDAY,sortable:!0,grow:2,format:t=>I(t.DAT_BIRTHDAY).format("YYYY-MM-DD")},{name:"CIUDAD",selector:t=>t.NAM_CITY,sortable:!0},{name:"DIRECCI\xD3N",selector:t=>t.ADDRESS,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_USER)},"data-toggle":"modal","data-target":"#editUser",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_USER),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/User",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/User/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Usuarios"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addUser",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addUser",title:"Agregar usuario",messageError:m,content:e(_a,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editUser",title:"Editar usuario",messageError:m,content:e(Ra,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Pa=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({FIRST_NAME:"",LAST_NAME:"",IDENTITY:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",ADDRESS:"",RTN:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"addFormClient",onSubmit:m=>{m.preventDefault(),p.post("/client",o,b()).then(d=>{document.querySelector("#idCloseAddForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"FIRST_NAME",children:"Nombre"}),e("input",{onChange:n,className:"form-control",name:"FIRST_NAME",type:"text ",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"LAST_NAME",children:"Apellido"}),e("input",{onChange:n,className:"form-control",name:"LAST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"IDENTITY",children:"Identidad"}),e("input",{onChange:n,className:"form-control",name:"IDENTITY",minlenght:13,maxLength:13,type:"text",pattern:"[0-9]{13}",title:"Identidad debe contener 13 caracteres",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:n,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,title:"El n\xFAmero telef\xF3nico debe contener 8 car\xE1cteres",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:n,className:"form-control",name:"NUM_PHONE_TWO",type:"tel",pattern:"[0-9]{1,8}",min:0,maxLength:8,title:"Opcional",required:!0})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:n,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"RTN",children:"RTN"}),e("input",{onChange:n,className:"form-control",name:"RTN",type:"text",minLength:14,maxLength:14,pattern:"[0-9]{14}",title:"RTN debe contener 14 car\xE1cteres",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Ia=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({FIRST_NAME:"",LAST_NAME:"",IDENTITY:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",ADDRESS:"",RTN:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/client/${r}`,b()).then(d=>n(d.data[0]))},[r]),a("form",{id:"editFormClient",onSubmit:d=>{d.preventDefault(),p.put(`/client/${r}`,s,b()).then(u=>{document.querySelector("#idCloseEditForm").click(),c(!0)}).catch(u=>{const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"FIRST_NAME",children:"Nombre"}),e("input",{onChange:i,value:s.FIRST_NAME,className:"form-control",name:"FIRST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"LAST_NAME",children:"Apellido"}),e("input",{onChange:i,value:s.LAST_NAME,className:"form-control",name:"LAST_NAME",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"IDENTITY",children:"Identidad"}),e("input",{onChange:i,value:s.IDENTITY,className:"form-control",name:"IDENTITY",minlenght:13,maxLength:13,type:"text",pattern:"[0-9]{13}",title:"Identidad debe contener 13 caracteres",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:i,value:s.NUM_PHONE_ONE,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:i,value:s.NUM_PHONE_TWO,className:"form-control",name:"NUM_PHONE_TWO",type:"tel",pattern:"[0-9]{1,8}",min:0,maxLength:8,title:"OPCIONAL",required:!0})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:i,value:s.ADDRESS,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"RTN",children:"RTN"}),e("input",{onChange:i,value:s.RTN,className:"form-control",name:"RTN",type:"text",minLength:14,maxLength:14,pattern:"[0-9]{14}",title:"RTN debe contener 14 caracteres",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Ma=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"IDENTIDAD",selector:t=>t.IDENTITY,sortable:!0,format:t=>`0${t.IDENTITY}`,grow:2},{name:"NOMBRE",selector:t=>t.FIRST_NAME,sortable:!0},{name:"APELLIDO",selector:t=>t.LAST_NAME,sortable:!0},{name:"TEL 1",selector:t=>t.NUM_PHONE_ONE,sortable:!0},{name:"TEL 2",selector:t=>t.NUM_PHONE_TWO,sortable:!0,format:t=>t.NUM_PHONE_TWO===0?"Sin n\xFAmero":t.NUM_PHONE_TWO},{name:"DIRECCI\xD3N",selector:t=>t.ADDRESS,sortable:!0},{name:"RTN",selector:t=>t.RTN,sortable:!0,format:t=>`0${t.RTN}`,grow:2},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_CLIENT)},"data-toggle":"modal","data-target":"#editClient",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_CLIENT),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/client",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/client/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Clientes"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addClient",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addClient",title:"Agregar cliente",messageError:m,content:e(Pa,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editClient",title:"Actualizar cliente",messageError:m,content:e(Ia,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Ua=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({NAM_SUPPLIER:"",NAM_CONTACT:"",LAST_NAM_CONTACT:"",ADDRESS:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",EMAIL:"",NAM_CITY:"",ZIP_CODE:" "}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"addFormSupplier",onSubmit:m=>{m.preventDefault(),p.post("/Supplier",o,b()).then(d=>{document.querySelector("#idCloseAddForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_CONTACT ",children:"Nombre del Proveedor"}),e("input",{onChange:n,className:"form-control",name:"NAM_SUPPLIER",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_CONTACT ",children:"Nombre del contacto"}),e("input",{onChange:n,className:"form-control",name:"NAM_CONTACT",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"LAST_NAM_CONTACT",children:"Apellido del contacto"}),e("input",{onChange:n,className:"form-control",name:"LAST_NAM_CONTACT",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:n,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:n,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,title:"El numero telfonico debe contener 8 caracteres",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:n,className:"form-control",name:"NUM_PHONE_TWO",type:"tel",pattern:"[0-9]{1,8}",title:"OPCIONAL",min:0,maxLength:8,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"EMAIL",children:"Correo electr\xF3nico"}),e("input",{onChange:n,className:"form-control",name:"EMAIL",type:"email",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NAM_CITY",children:"Ciudad"}),e("input",{onChange:n,className:"form-control",name:"NAM_CITY",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"ZIP_CODE",children:"C\xF3digo postal"}),e("input",{onChange:n,className:"form-control",name:"ZIP_CODE",type:"text",pattern:"[0-9]{1,5}",minLength:5,maxLength:7,required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},ya=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({NAM_SUPPLIER:"",NAM_CONTACT:"",LAST_NAM_CONTACT:"",ADDRESS:"",NUM_PHONE_ONE:"",NUM_PHONE_TWO:"",EMAIL:"",NAM_CITY:"",ZIP_CODE:" "}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/supplier/${r}`,b()).then(d=>n(d.data[0]))},[r]),a("form",{id:"editFormSupplier",onSubmit:d=>{d.preventDefault(),p.put(`/supplier/${r}`,s,b()).then(u=>{document.querySelector("#idCloseEditForm").click(),c(!0)}).catch(u=>{const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_SUPPLIER",children:"Nombre del Proveedor"}),e("input",{onChange:i,value:s.NAM_SUPPLIER,className:"form-control",name:"NAM_SUPPLIER",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_CONTACT",children:"Nombre del contacto"}),e("input",{onChange:i,value:s.NAM_CONTACT,className:"form-control",name:"NAM_CONTACT",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"LAST_NAM_CONTACT",children:"Apellido del contacto"}),e("input",{onChange:i,value:s.LAST_NAM_CONTACT,className:"form-control",name:"LAST_NAM_CONTACT",type:"Text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"ADDRESS",children:"Direcci\xF3n"}),e("textarea",{onChange:i,value:s.ADDRESS,className:"form-control",name:"ADDRESS",rows:"3",cols:"4",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_ONE",children:"Tel\xE9fono 1"}),e("input",{onChange:i,value:s.NUM_PHONE_ONE,className:"form-control",name:"NUM_PHONE_ONE",type:"tel",pattern:"[0-9]{8}",minLength:8,maxLength:8,title:"El numero telfono debe contener 8 caracteres",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_PHONE_TWO",children:"Tel\xE9fono 2"}),e("input",{onChange:i,value:s.NUM_PHONE_TWO,className:"form-control",name:"NUM_PHONE_TWO",type:"tel",pattern:"[0-9]{1,8}",title:"OPCIONAL",min:0,maxLength:8,required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"EMAIL",children:"Correo Electronico"}),e("input",{onChange:i,value:s.EMAIL,className:"form-control",name:"EMAIL",type:"email",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NAM_CITY",children:"Ciudad"}),e("input",{onChange:i,value:s.NAM_CITY,className:"form-control",name:"NAM_CITY",type:"text",pattern:"^[a-zA-Z0-9\xF1\xD1\xD8\xBA-_ ]+$",onInput:P,required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"ZIP_CODE",children:"C\xF3digo postal"}),e("input",{onChange:i,value:s.ZIP_CODE,className:"form-control",name:"ZIP_CODE",type:"text",pattern:"[0-9]{5,7}",minLength:5,maxLength:7,required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Fa=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"NOMBRE DEL PROVEEDOR ",selector:t=>t.NAM_SUPPLIER,sortable:!0,grow:2},{name:"NOMBRE DEL CONTACTO",selector:t=>t.NAM_CONTACT,sortable:!0},{name:"APELLIDO DEL CONTACTO",selector:t=>t.LAST_NAM_CONTACT,sortable:!0},{name:"DIRECCI\xD3N",selector:t=>t.ADDRESS,sortable:!0},{name:"TEL 1",selector:t=>t.NUM_PHONE_ONE,sortable:!0},{name:"TEL 2",selector:t=>t.NUM_PHONE_TWO,sortable:!0,format:t=>t.NUM_PHONE_TWO===0?"Sin n\xFAmero":t.NUM_PHONE_TWO},{name:"EMAIL",selector:t=>t.EMAIL,sortable:!0},{name:"CIUDAD",selector:t=>t.NAM_CITY,sortable:!0},{name:"C\xD3DIGO POSTAL",selector:t=>t.ZIP_CODE,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_SUPPLIER)},"data-toggle":"modal","data-target":"#editSupplier",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_SUPPLIER),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/Supplier",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/Supplier/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Proveedor"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addSupplier",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addSupplier",title:"Agregar proveedor",messageError:m,content:e(Ua,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editSupplier",title:"Editar proveedor",messageError:m,content:e(ya,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},La=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_PRODUCT:"",CANT_PRODUCTS:"",NUM_LOT:"",COD_STATUS:"",DAT_PURCHASE:"",DAT_EXP:""}),[n,i]=l.exports.useState(""),{COD_PRODUCT:m,COD_STATUS:d}=o,u=g=>{s(v(A({},o),{[g.target.name]:g.target.value}))};l.exports.useEffect(()=>{const g=document.querySelector("#nameProduct");m&&p.get(`/inventory/${m}`,b()).then(E=>{g.classList.remove("is-invalid"),i(E.data[0].NAM_PRODUCT)}).catch(E=>{g.classList.add("is-invalid"),i("Producto no encontrado")})},[m]);const h=()=>{document.querySelector("#idCloseAddDetail").click()};return a("form",{onSubmit:g=>{if(g.preventDefault(),d===""||d==="default"){c("Seleccione un estado del producto."),setTimeout(()=>{c("")},3e3);return}p.post("/inventoryDetail",o,b()).then(E=>{g.target.reset(),h(),i(""),r(!0)}).catch(E=>{const{message:O}=E.response.data;c(O),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-2",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo"}),e("input",{onChange:u,name:"COD_PRODUCT",className:"form-control",type:"number",min:"1",required:!0})]}),a("div",{className:"col-6",children:[e("label",{className:"form-label",children:"Producto"}),e("input",{id:"nameProduct",value:n,className:"form-control",type:"text",onInput:P,disabled:!0})]}),a("div",{className:"col-4 text-right",children:[a("small",{className:"form-label text-secondary",children:[e("i",{className:"mr-1 fa-solid fa-circle-info"}),"\xBFNo encuentras el producto?"]}),e("br",{}),e("button",{onClick:()=>h(),type:"button","data-toggle":"modal","data-target":"#addProduct",className:"btn btn-success mt-1",children:e("i",{className:"fa-solid fa-cart-plus"})})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad"}),e("input",{onChange:u,className:"form-control",name:"CANT_PRODUCTS",type:"number",min:"1",required:!0})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"NUM_LOT",children:"N\xFAmero de Lote"}),e("input",{onChange:u,className:"form-control",name:"NUM_LOT",type:"number",min:"1",required:!0})]}),a("div",{className:"col-4",children:[e("label",{className:"form-label",children:"Estado"}),a("select",{onChange:u,defaultValue:"default",name:"COD_STATUS",className:"custom-select",required:!0,children:[e("option",{value:"default",children:"Seleccionar"}),e("option",{value:"3",children:"Revisado"}),e("option",{value:"4",children:"Sin revisar"})]})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"COD_ORDER",children:"C\xF3digo de orden"}),e("input",{onChange:g=>{g.target.value?s(v(A({},o),{COD_ORDER:g.target.value})):delete o.COD_ORDER},className:"form-control",name:"COD_ORDER",type:"number",min:"1"})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"DAT_PURCHASE",children:"Fecha de compra"}),e("input",{onChange:u,className:"form-control",name:"DAT_PURCHASE",type:"date",required:!0})]}),a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"DAT_EXP",children:"Fecha de expiraci\xF3n"}),e("input",{onChange:u,className:"form-control",name:"DAT_EXP",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddDetail",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},wa=({rowCOD:r})=>{const[c,o]=l.exports.useState([]);return l.exports.useEffect(()=>{r&&p.get(`/inventoryDetail/${r}`,b()).then(n=>o(n.data))},[r]),e(F,{columns:[{name:"CANTIDAD",selector:n=>n.CANT_PRODUCTS},{name:"FECHA DE COMPRA",selector:n=>n.DAT_PURCHASE,format:n=>I(n.DAT_PURCHASE).format("DD-MM-YYYY")},{name:"FECHA DE EXPIRACI\xD3N",selector:n=>n.DAT_EXP,format:n=>I(n.DAT_EXP).format("DD-MM-YYYY")},{name:"N\xDAMERO DE LOTE",selector:n=>n.NUM_LOT},{name:"ESTADO",selector:n=>n.NAM_STATUS},{name:"# ORDEN",selector:n=>n.COD_ORDER,format:n=>n.COD_ORDER===null?"Sin orden relacionada":n.COD_ORDER}],data:c,responsive:!0,pagination:!0,paginationComponentOptions:k,highlightOnHover:!0,striped:!0,persistTableHead:!0})},ce=({message:r})=>a("div",{className:"alert alert-success text-center mx-4",role:"alert",children:[e("strong",{children:"\xA1Bien hecho! "}),r]}),Ya=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState(!1),[n,i]=l.exports.useState([]),[m,d]=l.exports.useState([]),[u,h]=l.exports.useState(""),[f,N]=l.exports.useState({NAM_PRODUCT:"",DES_PRODUCT:"",COD_SUPPLIER:"",ISV:"",NORMAL_UNIT_PRICE:"",PURCHASE_PRICE:"",COD_CATEGORY:"",COD_TYP_PRODUCT:1,WHOLESALE_CANT:0,WHOLESALE_PRICE:0});l.exports.useEffect(()=>{p.get("/supplier",b()).then(C=>{const t=C.data.map(({COD_SUPPLIER:D,NAM_SUPPLIER:R})=>({COD_SUPPLIER:D,NAM_SUPPLIER:R}));i(t)})},[]),l.exports.useEffect(()=>{p.get("/list-categories",b()).then(C=>d(C.data))},[]);const g=C=>{N(v(A({},f),{[C.target.name]:C.target.value}))},E=C=>{C.preventDefault(),p.post("/inventory",f,b()).then(t=>{O(),C.target.reset(),r(!0),h("Producto agregado correctamente."),setTimeout(()=>{h("")},3e3)}).catch(t=>{const{message:D}=t.response.data;c(D),setTimeout(()=>{c("")},3e3)})},O=()=>{N(v(A({},f),{WHOLESALE_CANT:0,WHOLESALE_PRICE:0})),s(!1)};return a("form",{onSubmit:E,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"NAM_PRODUCT",children:"Nombre del producto"}),e("input",{onChange:g,className:"form-control",name:"NAM_PRODUCT",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-8",children:[e("label",{className:"form-label",htmlFor:"DES_PRODUCT",children:"Descripci\xF3n"}),e("textarea",{onChange:g,className:"form-control",rows:"2",name:"DES_PRODUCT",type:"text",onInput:P,required:!0})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",children:"Proveedor"}),a("select",{onChange:g,defaultValue:"default",name:"COD_SUPPLIER",className:"custom-select",required:!0,children:[e("option",{value:"default",children:"Seleccionar"}),n.map(C=>e("option",{value:C.COD_SUPPLIER,children:C.NAM_SUPPLIER},C.COD_SUPPLIER))]})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"NORMAL_UNIT_PRICE",children:"Precio de venta"}),e("input",{onChange:g,className:"form-control",min:0,name:"NORMAL_UNIT_PRICE",type:"number",required:!0})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"PURCHASE_PRICE",children:"Precio de compra"}),e("input",{onChange:g,className:"form-control",min:0,name:"PURCHASE_PRICE",type:"number",required:!0})]}),a("div",{className:"col-2",children:[e("label",{className:"form-label",htmlFor:"ISV",children:"ISV"}),e("input",{onChange:g,className:"form-control",step:"0.01",min:0,max:1,name:"ISV",type:"number",required:!0})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",children:"Categoria"}),a("select",{onChange:g,defaultValue:"default",name:"COD_CATEGORY",className:"custom-select",required:!0,children:[e("option",{value:"default",children:"Seleccionar"}),m.map(C=>e("option",{value:C.COD_CATEGORY,children:C.NAM_CATEGORY},C.COD_CATEGORY))]})]}),a("div",{className:"col-5",children:[e("label",{htmlFor:"COD_TYP_PRODUCT",children:"Tipo de producto"}),e("br",{}),a("label",{htmlFor:"unidad",children:[e("input",{onChange:g,className:"mr-2",id:"unidad",type:"radio",value:1,name:"COD_TYP_PRODUCT",required:!0}),"Unidad"]}),a("label",{htmlFor:"peso/volumen",children:[e("input",{onChange:g,className:"ml-4 mr-2",id:"peso/volumen",value:2,type:"radio",name:"COD_TYP_PRODUCT"}),"Peso/Volumen"]})]})]}),o?a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"WHOLESALE_CANT",children:"Cantidad"}),e("input",{onChange:g,className:"form-control",min:0,name:"WHOLESALE_CANT",type:"number",required:!0}),e("small",{className:"form-text text-muted",children:"Establezca a partir de qu\xE9 cantidad se determinar\xE1 una venta al por mayor de este producto."})]}),a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"WHOLESALE_PRICE",children:"Precio unitario"}),e("input",{onChange:g,className:"form-control",min:0,name:"WHOLESALE_PRICE",type:"number",required:!0}),e("small",{className:"form-text text-muted",children:"Establezca el precio unitario que se determinar\xE1 en la venta al por mayor."})]}),a("div",{className:"col-4 text-right mt-4 py-2",children:[e("button",{onClick:()=>O(),type:"button",className:"btn btn-sm btn-danger mr-2",children:e("i",{className:"fa-solid fa-minus"})}),e("small",{className:"text-muted",children:"Cancelar"})]})]}):null,!o&&e("div",{className:"row mb-4",children:a("div",{className:"col-12 text-right",children:[e("button",{onClick:()=>s(!0),type:"button",className:"btn btn-sm btn-warning mr-2",children:e("i",{className:"fa-solid fa-plus"})}),e("small",{className:"text-muted",children:"Agregar cantidad y precio de venta al por mayor"})]})}),a("div",{className:"modal-footer",children:[e("button",{id:"addProductInventory","data-toggle":"modal","data-target":"#addDetailProduct",type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Volver"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]}),u?e(ce,{message:u}):null]})},ka=({sendRequest:r,rowCOD:c,setSendRequest:o,setMessageError:s})=>{const[n,i]=l.exports.useState(!1),[m,d]=l.exports.useState([]),[u,h]=l.exports.useState([]),[f,N]=l.exports.useState(""),[g,E]=l.exports.useState({NAM_PRODUCT:"",DES_PRODUCT:"",COD_SUPPLIER:"",ISV:"",NORMAL_UNIT_PRICE:"",PURCHASE_PRICE:"",COD_CATEGORY:"",COD_TYP_PRODUCT:1,WHOLESALE_CANT:0,WHOLESALE_PRICE:0}),{NAM_PRODUCT:O,DES_PRODUCT:C,COD_SUPPLIER:t,ISV:D,NORMAL_UNIT_PRICE:R,PURCHASE_PRICE:y,COD_CATEGORY:_,COD_TYP_PRODUCT:w,WHOLESALE_CANT:H,WHOLESALE_PRICE:B}=g;l.exports.useEffect(()=>{p.get("/supplier",b()).then(L=>{const M=L.data.map(({COD_SUPPLIER:S,NAM_SUPPLIER:$})=>({COD_SUPPLIER:S,NAM_SUPPLIER:$}));d(M)})},[]),l.exports.useEffect(()=>{p.get("/list-categories",b()).then(L=>h(L.data))},[]),l.exports.useEffect(()=>{c&&p.get(`/inventory/${c}`,b()).then(L=>{var M;E(L.data[0]),((M=L.data[0])==null?void 0:M.WHOLESALE_CANT)>0?i(!0):i(!1)})},[c,r]);const T=L=>{E(v(A({},g),{[L.target.name]:L.target.value}))},G=L=>{L.preventDefault(),p.put(`/inventory/${c}`,g,b()).then(M=>{z(),L.target.reset(),o(!0),N("Producto actualizado correctamente."),setTimeout(()=>{N("")},3e3)}).catch(M=>{const{message:S}=M.response.data;s(S),setTimeout(()=>{s("")},3e3)})},z=()=>{E(v(A({},g),{WHOLESALE_CANT:0,WHOLESALE_PRICE:0})),i(!1)};return a("form",{onSubmit:G,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"NAM_PRODUCT",children:"Nombre del producto"}),e("input",{value:O,onChange:T,className:"form-control",name:"NAM_PRODUCT",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-8",children:[e("label",{className:"form-label",htmlFor:"DES_PRODUCT",children:"Descripci\xF3n"}),e("textarea",{value:C,onChange:T,className:"form-control",rows:"2",name:"DES_PRODUCT",type:"text",onInput:P,required:!0})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",children:"Proveedor"}),a("select",{onChange:T,value:t,name:"COD_SUPPLIER",className:"custom-select",required:!0,children:[e("option",{value:"default",children:"Seleccionar"}),m.map(L=>e("option",{value:L.COD_SUPPLIER,children:L.NAM_SUPPLIER},L.COD_SUPPLIER))]})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"NORMAL_UNIT_PRICE",children:"Precio de venta"}),e("input",{value:R,onChange:T,className:"form-control",min:0,name:"NORMAL_UNIT_PRICE",type:"number",required:!0})]}),a("div",{className:"col-3",children:[e("label",{className:"form-label",htmlFor:"PURCHASE_PRICE",children:"Precio de compra"}),e("input",{value:y,onChange:T,className:"form-control",min:0,name:"PURCHASE_PRICE",type:"number",required:!0})]}),a("div",{className:"col-2",children:[e("label",{className:"form-label",htmlFor:"ISV",children:"ISV"}),e("input",{value:D,onChange:T,className:"form-control",step:"0.01",min:0,max:1,name:"ISV",type:"number",required:!0})]})]}),a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",children:"Categoria"}),a("select",{onChange:T,value:_,name:"COD_CATEGORY",className:"custom-select",required:!0,children:[e("option",{value:"default",children:"Seleccionar"}),u.map(L=>e("option",{value:L.COD_CATEGORY,children:L.NAM_CATEGORY},L.COD_CATEGORY))]})]}),a("div",{className:"col-5",children:[e("label",{htmlFor:"COD_TYP_PRODUCT",children:"Tipo de producto"}),e("br",{}),a("label",{htmlFor:"unidadEdit",children:[e("input",{onChange:T,className:"mr-2",id:"unidadEdit",type:"radio",value:1,name:"COD_TYP_PRODUCT",required:!0}),"Unidad"]}),a("label",{htmlFor:"peso/volumenEdit",children:[e("input",{onChange:T,className:"ml-4 mr-2",id:"peso/volumenEdit",value:2,type:"radio",name:"COD_TYP_PRODUCT"}),"Peso/Volumen"]})]})]}),n?a("div",{className:"row mb-4",children:[a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"WHOLESALE_CANT",children:"Cantidad"}),e("input",{value:H,onChange:T,className:"form-control",min:0,name:"WHOLESALE_CANT",type:"number",required:!0}),e("small",{className:"form-text text-muted",children:"Establezca a partir de qu\xE9 cantidad se determinar\xE1 una venta al por mayor de este producto."})]}),a("div",{className:"col-4",children:[e("label",{className:"form-label",htmlFor:"WHOLESALE_PRICE",children:"Precio unitario"}),e("input",{value:B,onChange:T,className:"form-control",min:0,name:"WHOLESALE_PRICE",type:"number",required:!0}),e("small",{className:"form-text text-muted",children:"Establezca el precio unitario que se determinar\xE1 en la venta al por mayor."})]}),a("div",{className:"col-4 text-right mt-4 py-2",children:[e("button",{onClick:()=>z(),type:"button",className:"btn btn-sm btn-danger mr-2",children:e("i",{className:"fa-solid fa-minus"})}),e("small",{className:"text-muted",children:"Cancelar"})]})]}):null,!n&&e("div",{className:"row mb-4",children:a("div",{className:"col-12 text-right",children:[e("button",{onClick:()=>i(!0),type:"button",className:"btn btn-sm btn-warning mr-2",children:e("i",{className:"fa-solid fa-plus"})}),e("small",{className:"text-muted",children:"Agregar cantidad y precio de venta al por mayor"})]})}),a("div",{className:"modal-footer",children:[e("button",{id:"addProductInventory","data-toggle":"modal","data-target":"#addDetailProduct",type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Volver"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]}),f?e(ce,{message:f}):null]})},qa=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"C\xD3DIGO",selector:t=>t.COD_PRODUCT,sortable:!0},{name:"PROVEEDOR",selector:t=>t.NAM_SUPPLIER,sortable:!0,grow:2},{name:"PRODUCTO",selector:t=>t.NAM_PRODUCT,sortable:!0,allowOverflow:!0,wrap:!0},{name:"DESCRIPCI\xD3N",selector:t=>t.DES_PRODUCT,wrap:!0},{name:"CANTIDAD TOTAL",selector:t=>t.CANT_TOTAL,sortable:!0},{name:"ISV",selector:t=>t.ISV},{name:"PRECIO",selector:t=>t.NORMAL_UNIT_PRICE,sortable:!0,format:t=>`L ${t.NORMAL_UNIT_PRICE.toFixed(2)}`},{name:"COSTO",selector:t=>t.PURCHASE_PRICE,sortable:!0,format:t=>`L ${t.PURCHASE_PRICE.toFixed(2)}`},{name:"CANTIDAD AL POR MAYOR",selector:t=>t.WHOLESALE_CANT,sortable:!0},{name:"PRECIO AL POR MAYOR",selector:t=>t.WHOLESALE_PRICE,sortable:!0,format:t=>`L ${t.WHOLESALE_PRICE.toFixed(2)}`},{name:"CATEGORIA",selector:t=>t.NAM_CATEGORY,sortable:!0},{name:"TIPO DE PRODUCTO",selector:t=>t.NAM_TYPE_PRODUCT,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-primary mr-1","data-toggle":"modal","data-target":"#viewDetailProduct",onClick:()=>N(t.COD_PRODUCT),children:e("i",{className:"fa-solid fa-eye"})}),e("button",{onClick:()=>N(t.COD_PRODUCT),className:"btn btn-sm btn-warning mr-1","data-toggle":"modal","data-target":"#editProduct",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{onClick:()=>C(t.COD_PRODUCT),className:"btn btn-sm btn-danger",children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/inventory",b()).then(t=>{c(t.data),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/inventory/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Inventario"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addDetailProduct",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar a inventario"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addDetailProduct",title:"Agregar detalle",messageError:m,content:e(La,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"viewDetailProduct",title:"Detalle de producto",messageError:m,content:e(wa,{rowCOD:f}),modalSize:"xl"}),e(x,{idModal:"addProduct",title:"Agregar nuevo producto",messageError:m,content:e(Ya,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editProduct",title:"Editar producto",messageError:m,content:e(ka,{sendRequest:u,rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Ha=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0);l.exports.useState("");const[m,d]=l.exports.useState("false");l.exports.useState(null);const u=[{name:"CODIGO PRODUCTO",selector:N=>N.COD_PRODUCT,sortable:!0},{name:"PRODUCTO",selector:N=>N.NAM_PRODUCT,sortable:!0},{name:"TIPO DE TRANSACCION",selector:N=>N.TYP_TRANSACTION,sortable:!0},{name:"CANTIDAD PRODUCTOS",selector:N=>N.CANT,sortable:!0},{name:"NUMERO DE LOTE",selector:N=>N.NUM_LOT,sortable:!0},{name:"FECHA MERMA",selector:N=>N.DAT_TRANSACTION,sortable:!0,format:N=>I(N.DAT_TRANSACTION).format("DD-MM-YYYY")}],h=r.filter(N=>JSON.stringify(N).toLowerCase().indexOf(o.toLowerCase())!==-1),f=l.exports.useMemo(()=>e(W,{onFilter:N=>s(N.target.value),filterText:o}),[o]);return l.exports.useEffect(()=>{p.get("/inventoryTransactions",b()).then(N=>{const{data:g}=N;console.log(g),c(g),i(!1),d(!1)})},[m]),n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Movimientos Inventario"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1"}),e(F,{columns:u,data:h,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:f,highlightOnHover:!0,striped:!0,persistTableHead:!0})]})]})},$a=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_PRODUCT:"",CONCEPT:"",CANT_PRODUCT:"",NUM_LOT:"",MOVEMENT:"",DES_RETURN:"",DAT_RETURN:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"addFormReturnProduct",onSubmit:m=>{m.preventDefault(),p.post("/returnProduct",o,b()).then(d=>{document.querySelector("#idCloseAddForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo producto"}),e("input",{onChange:n,className:"form-control",name:"COD_PRODUCT",type:"text",required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"CONCEPT",children:"Concepto"}),e("textarea",{onChange:n,className:"form-control",name:"CONCEPT",type:"text",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCT",children:"Cantidad productos"}),e("input",{onChange:n,className:"form-control",name:"CANT_PRODUCT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_LOT",children:"N\xFAmero de lote"}),e("input",{onChange:n,className:"form-control",name:"NUM_LOT",type:"number",required:!0})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"MOVEMENT",children:"Movimiento"}),a("select",{onChange:n,className:"form-control",name:"MOVEMENT",rows:"3",cols:"4",type:"text",required:!0,children:[e("option",{selected:!0,children:"-seleccionar-"}),e("option",{value:"1",children:"Entrada"}),e("option",{value:"2",children:"Salida"})]})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"DES_RETURN",children:"Descripci\xF3n"}),e("textarea",{onChange:n,className:"form-control",name:"DES_RETURN",type:"text",required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"DAT_RETURN",children:"Fecha devoluci\xF3n"}),e("input",{onChange:n,className:"form-control",name:"DAT_RETURN",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Va=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({COD_PRODUCT:"",CONCEPT:"",CANT_PRODUCT:"",NUM_LOT:"",MOVEMENT:"",DES_RETURN:"",DAT_RETURN:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/returnProduct/${r}`,b()).then(d=>{const{DAT_RETURN:u}=d.data[0];n(v(A({},d.data[0]),{DAT_RETURN:I(u).format("YYYY-MM-DD")}))})},[r]),a("form",{id:"editFormReturnProduct",onSubmit:d=>{d.preventDefault(),p.put(`/returnProduct/${r}`,s,b()).then(u=>{document.querySelector("#idCloseEditForm").click(),c(!0)}).catch(u=>{const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo producto"}),e("input",{onChange:i,value:s.COD_PRODUCT,className:"form-control",name:"COD_PRODUCT",type:"text",required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"CONCEPT",children:"Concepto"}),e("textarea",{onChange:i,value:s.CONCEPT,className:"form-control",name:"CONCEPT",type:"text",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCT",children:"Cantidad productos"}),e("input",{onChange:i,value:s.CANT_PRODUCT,className:"form-control",name:"CANT_PRODUCT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_LOT",children:"N\xFAmero de lote"}),e("input",{onChange:i,value:s.NUM_LOT,className:"form-control",name:"NUM_LOT",type:"number",required:!0})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"MOVEMENT",children:"Movimiento"}),a("select",{onChange:i,value:s.MOVEMENT,className:"form-control",name:"MOVEMENT",rows:"3",cols:"4",type:"text",required:!0,children:[e("option",{selected:!0,children:"-seleccionar-"}),e("option",{value:"1",children:"Entrada"}),e("option",{value:"2",children:"Salida"})]})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"DES_RETURN",children:"Descripci\xF3n"}),e("textarea",{onChange:i,value:s.DES_RETURN,className:"form-control",name:"DES_RETURN",type:"text",required:!0})]}),a("div",{className:"col-md-6 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_RETURN",children:"Fecha devoluci\xF3n"}),e("input",{onChange:i,value:I(s==null?void 0:s.DAT_RETURN).format("YYYY-MM-DD"),className:"form-control",name:"DAT_RETURN",type:"date",required:!0})]})]}),"*",a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Wa=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"C\xD3DIGO PRODUCTO",selector:t=>t.COD_PRODUCT,sortable:!0},{name:"PRODUCTO",selector:t=>t.NAM_PRODUCT,sortable:!0},{name:"CONCEPTO",selector:t=>t.CONCEPT,sortable:!0},{name:"CANTIDAD PRODUCTO",selector:t=>t.CANT_PRODUCT,sortable:!0},{name:"DESCRIPCI\xD3N",selector:t=>t.DES_RETURN,sortable:!0},{name:"N\xDAMERO DE LOTE",selector:t=>t.NUM_LOT,sortable:!0},{name:"MOVIMIENTO",selector:t=>t.MOVEMENT,sortable:!0},{name:"USUARIO",selector:t=>t.USER_NAME,sortable:!0},{name:"FECHA DEVOLUCI\xD3N",selector:t=>t.DAT_RETURN,sortable:!0,format:t=>I(t.DAT_RETURN).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_RETURN)},"data-toggle":"modal","data-target":"#editFormReturnProduct",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_RETURN),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/returnProduct",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/returnProduct/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Devoluciones"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addFormReturnProduct",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addFormReturnProduct",title:"Agregar devoluci\xF3n",messageError:m,content:e($a,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editFormReturnProduct",title:"Actualizar devoluci\xF3n",messageError:m,content:e(Va,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Ba=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_PRODUCT:"",CONCEPT:"",CANT_PRODUCTS:"",NUM_LOT:"",DATE_DECREASE:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"addFormDecrease",onSubmit:m=>{m.preventDefault(),p.post("/decrease",o,b()).then(d=>{document.querySelector("#idCloseAddForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo producto"}),e("input",{onChange:n,className:"form-control",name:"COD_PRODUCT",type:"number",required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"CONCEPT",children:"Concepto"}),e("textarea",{onChange:n,className:"form-control",name:"CONCEPT",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad Productos"}),e("input",{onChange:n,className:"form-control",name:"CANT_PRODUCTS",type:"number",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_LOT",children:"N\xFAmero de lote"}),e("input",{onChange:n,className:"form-control",name:"NUM_LOT",type:"number",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_DECREASE",children:"Fecha merma"}),e("input",{onChange:n,className:"form-control",name:"DAT_DECREASE",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Ga=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({COD_PRODUCT:"",CONCEPT:"",CANT_PRODUCTS:"",NUM_LOT:"",DAT_DECREASE:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/decrease/${r}`,b()).then(d=>{const{DAT_DECREASE:u}=d.data[0];n(v(A({},d.data[0]),{DAT_DECREASE:I(u).format("YYYY-MM-DD")}))})},[r]),a("form",{id:"editDecrease",onSubmit:d=>{d.preventDefault(),p.put(`/decrease/${r}`,s,b()).then(u=>{document.querySelector("#idCloseEditForm").click(),d.target.reset(),c(!0)}).catch(u=>{console.log(u.response);const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo producto"}),e("input",{onChange:i,value:s.COD_PRODUCT,className:"form-control",name:"COD_PRODUCT",type:"number",required:!0})]}),a("div",{className:"col-md-6",children:[e("label",{className:"form-label",htmlFor:"CONCEPT",children:"Concepto"}),e("textarea",{onChange:i,value:s.CONCEPT,className:"form-control",name:"CONCEPT",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT_PRODUCTS",children:"Cantidad Productos"}),e("input",{onChange:i,value:s.CANT_PRODUCTS,className:"form-control",name:"CANT_PRODUCTS",type:"number",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"NUM_LOT",children:"N\xFAmero de lote"}),e("input",{onChange:i,value:s.NUM_LOT,className:"form-control",name:"NUM_LOT",type:"number",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_DECREASE",children:"Fecha merma"}),e("input",{onChange:i,value:I(s==null?void 0:s.DAT_DECREASE).format("YYYY-MM-DD"),className:"form-control",name:"DAT_DECREASE",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},za=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState("false"),[f,N]=l.exports.useState(null),g=[{name:"CODIGO PRODUCTO",selector:t=>t.COD_PRODUCT,sortable:!0},{name:"PRODUCTO",selector:t=>t.NAM_PRODUCT,sortable:!0},{name:"CONCEPTO",selector:t=>t.CONCEPT,sortable:!0},{name:"CANTIDAD PRODUCTOS",selector:t=>t.CANT_PRODUCTS,sortable:!0},{name:"NUMERO DE LOTE",selector:t=>t.NUM_LOT,sortable:!0},{name:"USUARIO",selector:t=>t.USER_NAME,sortable:!0},{name:"FECHA MERMA",selector:t=>t.DAT_DECREASE,sortable:!0,format:t=>I(t.DAT_DECREASE).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_DECREASE)},"data-toggle":"modal","data-target":"#editDecrease",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_DECREASE),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/decrease",b()).then(t=>{const{data:D}=t;console.log(D),c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/decrease/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Mermas"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addDecrease",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addDecrease",title:"Agregar Merma",messageError:m,content:e(Ba,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editDecrease",title:"Actualizar Merma",messageError:m,content:e(Ga,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},ja=({rowCOD:r,sendRequest:c,setSendRequest:o})=>{const[s,n]=l.exports.useState([]),i=[{name:"CODIGO",selector:u=>u.COD_FEES},{name:"MONTO",selector:u=>u.AMOUNT,format:u=>`L ${u.AMOUNT.toFixed(2)}`},{name:"FECHA",selector:u=>u.DAT_PAY,format:u=>I(u.DAT_PAY).format("DD-MM-YYYY")},{name:"METODO",selector:u=>u.NAM_TYPE_PAY},{name:"ELIMINAR",button:!0,cell:u=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>m(u.COD_FEES),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{r&&(p.get(`/fees-receivable/${r}`,b()).then(u=>n(u.data)),o(!1))},[r,c]);const m=u=>{p.delete(`/fees-receivable/${u}`,b()).then(h=>o(!0))},d=()=>{document.querySelector("#idCloseSelCuotas").click()};return a(U,{children:[e("div",{className:"row",children:e("div",{className:"col-12 text-right",children:e("button",{onClick:()=>d(),className:"btn btn-sm btn-success","data-toggle":"modal","data-target":"#addCuota",children:"+"})})}),e(F,{columns:i,data:s,responsive:!0,pagination:!0,paginationComponentOptions:k,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e("div",{className:"modal-footer",children:e("button",{type:"button",id:"idCloseSelCuotas",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"})})]})},Qa=({rowCOD:r,setMessageError:c,setSendRequest:o})=>{const[s,n]=l.exports.useState({AMOUNT:0,DAT_PAY:"",COD_TYP_PAY:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return a("form",{id:"AddFormCuota",onSubmit:d=>{d.preventDefault(),p.post(`/fees-receivable/${r}`,s,b()).then(u=>{document.querySelector("#idCloseFeesReceivable").click(),d.target.reset(),o(!0)}).catch(u=>{const{message:h}=u.response.data;c(h),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"AMOUNT",children:"Monto"}),e("input",{onChange:i,className:"form-control",name:"AMOUNT",type:"number",required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_TYP_PAY",children:"Forma de Pago"}),a("select",{onChange:i,value:s.COD_TYP_PAY,className:"form-control",name:"COD_TYP_PAY",required:!0,children:[e("option",{selected:!0,children:"-Seleccionar-"}),e("option",{value:"1",children:"Efectivo"}),e("option",{value:"2",children:"Tarjeta"}),e("option",{value:"3",children:"Transferencia"})]})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"DAT_PAY",children:"Fecha"}),e("input",{onChange:i,className:"form-control",name:"DAT_PAY",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseFeesReceivable",className:"btn btn-primary","data-toggle":"modal","data-target":"#idCobrar","data-dismiss":"modal",children:"Atr\xE1s"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Za=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"CODIGO",selector:C=>C.COD_ACC_RECEIVABLE,sortable:!0},{name:"IDENTIDAD",selector:C=>C.IDENTITY,sortable:!0},{name:"NOMBRE",selector:C=>C.FIRST_NAME,sortable:!0},{name:"APELLIDO",selector:C=>C.LAST_NAME,sortable:!0},{name:"DESCRIPCION",selector:C=>C.DESCRIPTION,sortable:!0},{name:"MONTO",selector:C=>C.TOT_BALANCE,sortable:!0,format:C=>`L ${C.TOT_BALANCE.toFixed(2)}`},{name:"FECHA LIMITE",selector:C=>C.DAT_LIMIT,sortable:!0,format:C=>I(C.DAT_LIMIT).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:C=>e(U,{children:e("button",{className:"btn btn-sm btn-primary me-1",onClick:()=>N(C.COD_ACC_RECEIVABLE),"data-toggle":"modal","data-target":"#idCobrar",children:e("i",{className:"fa-solid fa-eye"})})})}],E=r.filter(C=>JSON.stringify(C).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:C=>s(C.target.value),filterText:o}),[o]);return l.exports.useEffect(()=>{p.get("/accounts-receivable",b()).then(C=>{const{data:t}=C;c(t),i(!1),h(!1)})},[u]),n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Cuentas por Cobrar"}),a("div",{className:"card-body",children:[e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"idCobrar",title:"Cuotas de Cobro",messageError:m,content:e(ja,{rowCOD:f,setSendRequest:h,sendRequest:u})}),e(x,{idModal:"addCuota",title:"A\xF1adir Cuota",messageError:m,content:e(Qa,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Ja=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_INVOICE:"",DESCRIPTION:"",TOT_BALANCE:"",DATE_LIMIT:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"AddAccountPayForm",onSubmit:m=>{m.preventDefault(),p.post("/accounts-pay",o,b()).then(d=>{document.querySelector("#idCloseAddAccountPayForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4 mt-3",children:[e("label",{className:"form-label",htmlFor:"COD_INVOICE",children:"C\xF3digo de la Factura"}),e("input",{onChange:n,className:"form-control",name:"COD_INVOICE",type:"number",required:!0})]}),a("div",{className:"col-md-8 mt-3",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("textarea",{onChange:n,className:"form-control",name:"DESCRIPTION",type:"text",required:!0})]}),a("div",{className:"col-md-3 mt-3",children:[e("label",{className:"form-label",htmlFor:"TOT_BALANCE",children:"Monto"}),e("input",{onChange:n,className:"form-control",name:"TOT_BALANCE",type:"number",required:!0})]}),a("div",{className:"col-md-3 mt-3",children:[e("label",{className:"form-label",htmlFor:"DATE_LIMIT",children:"Fecha L\xEDmite"}),e("input",{onChange:n,className:"form-control",name:"DATE_LIMIT",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddAccountPayForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Ka=({rowCOD:r,setSendRequest:c})=>{const[o,s]=l.exports.useState({DESCRIPTION:"",DATE_LIMIT:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/accounts-pay/${r}`,b()).then(m=>s(m.data[0]))},[r]),l.exports.useEffect(()=>{r&&p.get(`/accounts-pay/${r}`,b()).then(m=>{s(v(A({},m.data[0]),{DATE_LIMIT:I(m.data[0].DATE_LIMIT).format("YYYY-MM-DD")}))})},[r]),a("form",{id:"AddAccountPayForm",onSubmit:m=>{m.preventDefault(),p.put(`/accounts-pay/${r}`,o,b()).then(d=>{document.querySelector("#idCloseEditAccountPayForm").click(),c(!0)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-8 mt-3",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("textarea",{onChange:n,value:o.DESCRIPTION,className:"form-control",name:"DESCRIPTION",type:"text",required:!0})]}),a("div",{className:"col-md-3 mt-3",children:[e("label",{className:"form-label",htmlFor:"DATE_LIMIT",children:"Fecha L\xEDmite"}),e("input",{onChange:n,value:I(o.DATE_LIMIT).format("YYYY-MM-DD"),className:"form-control",name:"DATE_LIMIT",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditAccountPayForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Xa=({rowCOD:r,sendRequest:c,setSendRequest:o})=>{const[s,n]=l.exports.useState([]),i=[{name:"CODIGO",selector:u=>u.COD_FEES},{name:"MONTO",selector:u=>u.AMOUNT,format:u=>`L ${u.AMOUNT.toFixed(2)}`},{name:"FECHA",selector:u=>u.DATE_PAY,format:u=>I(u.DATE_PAY).format("DD-MM-YYYY")},{name:"METODO",selector:u=>u.NAM_TYPE_PAY},{name:"ELIMINAR",button:!0,cell:u=>e(U,{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>m(u.COD_FEES),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{r&&(p.get(`/fees-pay/${r}`,b()).then(u=>n(u.data)),o(!1))},[r,c]);const m=u=>{p.delete(`/fees-pay/${u}`,b()).then(h=>o(!0))},d=()=>{document.querySelector("#idCloseSelCuotas").click()};return a(U,{children:[e("div",{className:"row",children:e("div",{className:"col-12 text-right",children:e("button",{onClick:()=>d(),className:"btn btn-sm btn-success","data-toggle":"modal","data-target":"#addCuotaPay",children:"+"})})}),e(F,{columns:i,data:s,responsive:!0,pagination:!0,paginationComponentOptions:k,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e("div",{className:"modal-footer",children:e("button",{type:"button",id:"idCloseSelCuotas",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"})})]})},et=({rowCOD:r,setMessageError:c,setSendRequest:o})=>{const[s,n]=l.exports.useState({AMOUNT:0,DATE_PAY:"",COD_TYP_PAY:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return a("form",{id:"AddFormCuota",onSubmit:d=>{d.preventDefault(),p.post(`/fees-pay/${r}`,s,b()).then(u=>{document.querySelector("#idCloseFeesPay").click(),d.target.reset(),o(!0)}).catch(u=>{const{message:h}=u.response.data;c(h),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"AMOUNT",children:"Monto"}),e("input",{onChange:i,className:"form-control",name:"AMOUNT",type:"number",required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"COD_TYP_PAY",children:"Forma de Pago"}),a("select",{onChange:i,value:s.COD_TYP_PAY,className:"form-control",name:"COD_TYP_PAY",required:!0,children:[e("option",{selected:!0,children:"-Seleccionar-"}),e("option",{value:"1",children:"Efectivo"}),e("option",{value:"2",children:"Tarjeta"}),e("option",{value:"3",children:"Transferencia"})]})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"DATE_PAY",children:"Fecha"}),e("input",{onChange:i,className:"form-control",name:"DATE_PAY",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseFeesPay",className:"btn btn-primary","data-toggle":"modal","data-target":"#idCobrar","data-dismiss":"modal",children:"Atr\xE1s"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},at=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"CODIGO",selector:t=>t.COD_ACC_PAY,sortable:!0},{name:"DESCRIPCION",selector:t=>t.DESCRIPTION,sortable:!0,allowOverflow:!0},{name:"MONTO",selector:t=>t.TOT_BALANCE,sortable:!0,format:t=>`L ${t.TOT_BALANCE.toFixed(2)}`},{name:"FECHA LIMITE",selector:t=>t.DATE_LIMIT,sortable:!0,format:t=>I(t.DATE_LIMIT).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-primary m-1",onClick:()=>N(t.COD_ACC_PAY),"data-toggle":"modal","data-target":"#idCobrar",children:e("i",{className:"fa-solid fa-eye"})}),e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_ACC_PAY)},"data-toggle":"modal","data-target":"#editAccountPay",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_ACC_PAY),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/accounts-pay",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/accounts-pay/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Cuentas por Pagar"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addAccountPay",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addAccountPay",title:"Agregar Cuenta por Pagar",messageError:m,content:e(Ja,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editAccountPay",title:"Actualizar Cuenta por Pagar",messageError:m,content:e(Ka,{rowCOD:f,setSendRequest:h})}),e(x,{idModal:"idCobrar",title:"Cuotas de Pago",messageError:m,content:e(Xa,{rowCOD:f,setSendRequest:h,sendRequest:u})}),e(x,{idModal:"addCuotaPay",title:"A\xF1adir Cuota",messageError:m,content:e(et,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},tt=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_PRODUCT:"",CANT:0,NAM_TYPE_PRODUCT:"",AMOUNT:0,DAT_RETURN:""}),n=h=>{s(v(A({},o),{[h.target.name]:h.target.value}))},i=h=>{h.preventDefault(),p.post("/sales-returns",o,b()).then(f=>{document.querySelector("#idCloseAddSalesReturn").click(),h.target.reset(),r(!0),d("")}).catch(f=>{const{message:N}=f.response.data;c(N),setTimeout(()=>{c("")},3e3)})},[m,d]=l.exports.useState(""),u=()=>{p.get(`/inventory/${o.COD_PRODUCT}`,b()).then(h=>{const{NAM_PRODUCT:f}=h.data[0];d(`${f}`)}).catch(h=>{d("Producto no encontrado.")})};return a("form",{id:"addFormSalesReturn",onSubmit:i,action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-3",children:[e("label",{className:"form-label",htmlFor:"COD_PRODUCT",children:"C\xF3digo del Producto"}),e("input",{className:"form-control",onBlur:()=>u(),onChange:n,name:"COD_PRODUCT",type:"number",required:!0})]}),a("div",{className:"col-md-5",children:[e("label",{className:"form-label",htmlFor:"PRODUCT",children:"Producto"}),e("input",{className:"form-control",value:m,name:"PRODUCT",type:"text",required:!0,disabled:!0})]}),a("div",{className:"col-md-5 mt-2",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("textarea",{className:"form-control",onChange:n,name:"DESCRIPTION",type:"text",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT",children:"Cantidad"}),e("input",{className:"form-control",onChange:n,name:"CANT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"AMOUNT",children:"Monto"}),e("input",{className:"form-control",onChange:n,name:"AMOUNT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_RETURN",children:"Fecha"}),e("input",{className:"form-control",onChange:n,name:"DAT_RETURN",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddSalesReturn",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},rt=({setSendRequest:r,rowCOD:c})=>{const[o,s]=l.exports.useState({COD_PRODUCT:"",CANT:0,NAM_TYPE_PRODUCT:"",AMOUNT:0,DAT_RETURN:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return l.exports.useEffect(()=>{c&&p.get(`/sales-returns/${c}`,b()).then(m=>{s(v(A({},m.data[0]),{DAT_RETURN:I(m.data[0].DAT_RETURN).format("YYYY-MM-DD")}))})},[c]),a("form",{id:"addFormSalesReturn",onSubmit:m=>{m.preventDefault(),p.put(`/sales-returns/${c}`,o,b()).then(d=>{document.querySelector("#idCloseEditSalesReturn").click(),r(!0)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-5",children:[e("label",{className:"form-label",htmlFor:"PRODUCT",children:"Producto"}),e("input",{className:"form-control",value:`${o.NAM_PRODUCT}`,name:"PRODUCT",type:"text",required:!0,disabled:!0})]}),a("div",{className:"col-md-5 mt-2",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("textarea",{className:"form-control",value:o.DESCRIPTION,onChange:n,name:"DESCRIPTION",type:"text",required:!0})]}),a("div",{className:"col-md-3 mt-2",children:[e("label",{className:"form-label",htmlFor:"CANT",children:"Cantidad"}),e("input",{className:"form-control",value:o.CANT,onChange:n,name:"CANT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"AMOUNT",children:"Monto"}),e("input",{className:"form-control",value:o.AMOUNT,onChange:n,name:"AMOUNT",type:"number",required:!0})]}),a("div",{className:"col-md-4 mt-2",children:[e("label",{className:"form-label",htmlFor:"DAT_RETURN",children:"Fecha"}),e("input",{className:"form-control",value:I(o.DAT_RETURN).format("YYYY-MM-DD"),onChange:n,name:"DAT_RETURN",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditSalesReturn",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},lt=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"CODIGO",selector:t=>t.COD_RETURN,sortable:!0},{name:"PRODUCTO",selector:t=>t.NAM_PRODUCT,sortable:!0},{name:"DESCRIPCION",selector:t=>t.DESCRIPTION,sortable:!0,allowOverflow:!0},{name:"CANTIDAD",selector:t=>t.CANT,sortable:!0},{name:"TIPO",selector:t=>t.NAM_TYPE_PRODUCT,sortable:!0},{name:"MONTO",selector:t=>t.AMOUNT,sortable:!0,format:t=>`L ${t.AMOUNT.toFixed(2)}`},{name:"USUARIO",selector:t=>t.USER_NAME,sortable:!0},{name:"FECHA",selector:t=>t.DAT_RETURN,sortable:!0,format:t=>I(t.DAT_RETURN).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_RETURN)},"data-toggle":"modal","data-target":"#editSalesReturn",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_RETURN),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/sales-returns",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/sales-returns/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Devoluciones"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addSalesReturn",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addSalesReturn",title:"Agregar Devoluci\xF3n",messageError:m,content:e(tt,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editSalesReturn",title:"Actualizar Devoluci\xF3n",messageError:m,content:e(rt,{rowCOD:f,setSendRequest:h})})]})]})},st=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),u=[{name:"CODIGO",selector:N=>N.COD_DISCOUNT,sortable:!0},{name:"FACTURA",selector:N=>N.COD_INVOICE,sortable:!0},{name:"CLIENTE",selector:N=>N.CLIENT_NAME,sortable:!0},{name:"DESCRIPCION",selector:N=>N.DESCRIPTION,sortable:!0},{name:"MONTO",selector:N=>N.AMOUNT,sortable:!0,format:N=>`L ${N.AMOUNT.toFixed(2)}`},{name:"TIPO DE PAGO",selector:N=>N.NAM_TYPE_PAY,sortable:!0},{name:"USUARIO",selector:N=>N.USER_NAME,sortable:!0,allowOverflow:!0}],h=r.filter(N=>JSON.stringify(N).toLowerCase().indexOf(o.toLowerCase())!==-1),f=l.exports.useMemo(()=>e(W,{onFilter:N=>s(N.target.value),filterText:o}),[o]);return l.exports.useEffect(()=>{p.get("/sales-discounts",b()).then(N=>{const{data:g}=N;c(g),i(!1)})},[]),n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Rebajas"}),a("div",{className:"card-body",children:[e(F,{columns:u,data:h,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:f,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"idModal",title:"Titulo",messageError:m})]})]})},ot=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({COD_USER:"",HOURS_WORKED:0,AMO_GROSS:0,BONUS:0,TOT_DEDUCTIONS:0,NET_SALARY:0,DAT_PAYMENT:""}),[n,i]=l.exports.useState(""),[m,d]=l.exports.useState(0),{HOURS_WORKED:u,AMO_GROSS:h,BONUS:f,TOT_DEDUCTIONS:N}=o,g=()=>{const D=parseFloat(u)*parseFloat(h)+parseFloat(f)-parseFloat(N);d(D),s(v(A({},o),{NET_SALARY:D}))};l.exports.useEffect(()=>{g()},[u,h,f,N]);const E=D=>{s(v(A({},o),{[D.target.name]:D.target.value}))},O=()=>{p.get(`/user/${o.COD_USER}`,b()).then(D=>{const{FIRST_NAME:R,LAST_NAME:y}=D.data[0];i(`${R} ${y}`)}).catch(D=>{i("Empleado no encontrado")})},C=()=>{s({COD_USER:"",HOURS_WORKED:0,AMO_GROSS:0,BONUS:0,TOT_DEDUCTIONS:0,NET_SALARY:0,DAT_PAYMENT:""}),i(""),d(0)};return a("form",{id:"addPayForm",onSubmit:D=>{D.preventDefault(),p.post("/pay-form",o,b()).then(R=>{document.querySelector("#closeAddPayForm").click(),D.target.reset(),r(!0),C()}).catch(R=>{const{message:y}=R.response.data;c(y),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-3",children:[e("label",{className:"form-label",htmlFor:"COD_USER",children:"C\xF3digo de empleado"}),e("input",{onBlur:()=>O(),onChange:E,className:"form-control",name:"COD_USER",type:"number",required:!0})]}),a("div",{className:"col-md-7",children:[e("label",{className:"form-label",htmlFor:"EMPLOYEE",children:"Empleado"}),e("input",{className:"form-control",value:n,name:"EMPLOYEE",type:"text",required:!0,disabled:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"HOURS_WORKED",children:"Dias Trabajados"}),e("input",{onChange:E,value:o==null?void 0:o.HOURS_WORKED,className:"form-control",name:"HOURS_WORKED",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"AMO_GROSS",children:"Salario Base"}),e("input",{onChange:E,value:o==null?void 0:o.AMO_GROSS,className:"form-control",name:"AMO_GROSS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"BONUS",children:"Bonificaciones"}),e("input",{onChange:E,value:o==null?void 0:o.BONUS,className:"form-control",name:"BONUS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"TOT_DEDUCTIONS",children:"Deducciones"}),e("input",{onChange:E,value:o==null?void 0:o.TOT_DEDUCTIONS,className:"form-control",name:"TOT_DEDUCTIONS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"NET_SALARY",children:"Salario Neto"}),e("input",{className:"form-control",value:m,name:"NET_SALARY",type:"number",required:!0,disabled:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label mt-2",htmlFor:"DAT_PAYMENT",children:"Fecha de Pago"}),e("input",{onChange:E,className:"form-control",name:"DAT_PAYMENT",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"closeAddPayForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},nt=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({HOURS_WORKED:0,AMO_GROSS:0,BONUS:0,TOT_DEDUCTIONS:0,NET_SALARY:0,DAT_PAYMENT:""}),[i,m]=l.exports.useState(0),{HOURS_WORKED:d,AMO_GROSS:u,BONUS:h,TOT_DEDUCTIONS:f}=s,N=()=>{const O=parseFloat(d)*parseFloat(u)+parseFloat(h)-parseFloat(f);m(O),n(v(A({},s),{NET_SALARY:O}))},g=O=>{n(v(A({},s),{[O.target.name]:O.target.value}))};return l.exports.useEffect(()=>{N()},[d,u,h,f]),l.exports.useEffect(()=>{r&&p.get(`/pay-form/${r}`,b()).then(O=>{m(O.data[0].NET_SALARY),n(v(A({},O.data[0]),{DAT_PAYMENT:I(O.data[0].DAT_PAYMENT).format("YYYY-MM-DD")}))})},[r]),a("form",{id:"editPayForm",onSubmit:O=>{O.preventDefault(),p.put(`/pay-form/${r}`,s,b()).then(C=>{document.querySelector("#closeEditPayForm").click(),c(!0)}).catch(C=>{const{message:t}=C.response.data;o(t),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-8",children:[e("label",{className:"form-label",htmlFor:"EMPLOYEE",children:"Empleado"}),e("input",{className:"form-control",value:`${s==null?void 0:s.FIRST_NAME} ${s==null?void 0:s.LAST_NAME}`,name:"EMPLOYEE",type:"text",required:!0,disabled:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"HOURS_WORKED",children:"Dias Trabajados"}),e("input",{onChange:g,value:s==null?void 0:s.HOURS_WORKED,className:"form-control",name:"HOURS_WORKED",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"AMO_GROSS",children:"Salario Base"}),e("input",{onChange:g,value:s==null?void 0:s.AMO_GROSS,className:"form-control",name:"AMO_GROSS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"BONUS",children:"Bonificaciones"}),e("input",{onChange:g,value:s==null?void 0:s.BONUS,className:"form-control",name:"BONUS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"TOT_DEDUCTIONS",children:"Deducciones"}),e("input",{onChange:g,value:s==null?void 0:s.TOT_DEDUCTIONS,className:"form-control",name:"TOT_DEDUCTIONS",type:"number",required:!0})]}),a("div",{className:"col-md-3",children:[e("label",{className:"form-label mt-2",htmlFor:"NET_SALARY",children:"Salario Neto"}),e("input",{className:"form-control",value:i,name:"NET_SALARY",type:"number",required:!0,disabled:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label mt-2",htmlFor:"DAT_PAYMENT",children:"Fecha de Pago"}),e("input",{onChange:g,value:I(s==null?void 0:s.DAT_PAYMENT).format("YYYY-MM-DD"),className:"form-control",name:"DAT_PAYMENT",type:"date",required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"closeEditPayForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},ct=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(null),g=[{name:"CODIGO",selector:t=>t.COD_PAY_FORM,sortable:!0},{name:"NOMBRE",selector:t=>t.FIRST_NAME,sortable:!0},{name:"APELLIDO",selector:t=>t.LAST_NAME,sortable:!0},{name:"HORAS TRABAJADAS",selector:t=>t.HOURS_WORKED,sortable:!0},{name:"SALARIO BASE",selector:t=>t.AMO_GROSS,sortable:!0,format:t=>`L ${t.AMO_GROSS.toFixed(2)}`},{name:"BONIFICACIONES",selector:t=>t.BONUS,sortable:!0,format:t=>`L ${t.BONUS.toFixed(2)}`},{name:"DEDUCCIONES",selector:t=>t.TOT_DEDUCTIONS,sortable:!0,format:t=>`L ${t.TOT_DEDUCTIONS.toFixed(2)}`},{name:"SALARIO NETO",selector:t=>t.NET_SALARY,sortable:!0,format:t=>`L ${t.NET_SALARY.toFixed(2)}`},{name:"FECHA DE PAGO",selector:t=>t.DAT_PAYMENT,sortable:!0,format:t=>I(t.DAT_PAYMENT).format("DD-MM-YYYY")},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_PAY_FORM)},"data-toggle":"modal","data-target":"#editPayForm",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_PAY_FORM),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/pay-form",b()).then(t=>{const{data:D}=t;c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/pay-form/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Planillas de Pago"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addPayForm",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addPayForm",title:"Agregar planilla",messageError:m,content:e(ot,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editPayForm",title:"Editar planilla",messageError:m,content:e(nt,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})};Z.register(X,J,K);function dt(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_CATEGORY),datasets:[{label:"# of Votes",data:r.map(s=>s.TOTAL),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/sales-category",b()).then(s=>{c(s.data)})},[]),e(se,{data:o})}Z.register(X,J,K);function it(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NOMBRE),datasets:[{label:"# of Votes",data:r.map(s=>s.TOTAL),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/sales-employee",b()).then(s=>{c(s.data)})},[]),e(oe,{data:o})}Z.register(Ne,X,J,K);function mt(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.SUPPLIER),datasets:[{label:"# of Votes",data:r.map(s=>s.TOTAL_COMPRA),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/purchase-supplier",b()).then(s=>{c(s.data)})},[]),e(pe,{data:o})}Z.register(be,Ce,ye,fe,J,K);const ut={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Cabotaje Supplier"}}};function ht(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>I(s.DAT_INVOICE).format("DD-MM-YYYY")),datasets:[{label:"Compras",data:r.map(s=>s.TOT_PURS_DAY),backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return l.exports.useEffect(()=>{p.get("/purchase-per-week",b()).then(s=>{c(s.data)})},[]),e(Fe,{options:ut,data:o})}Z.register(X,J,K);function Nt(){const[r,c]=l.exports.useState([]),o={labels:r.map(s=>s.NAM_PRODUCT),datasets:[{label:"# of Votes",data:r.map(s=>s.TOT_PRODUCTS),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 159, 64, 0.5)"],borderWidth:1}]};return l.exports.useEffect(()=>{p.get("/decrease-graphics",b()).then(s=>{c(s.data)})},[]),e(oe,{data:o})}const pt=()=>a("div",{children:[a("div",{className:"row",children:[e("div",{className:"col-4",children:e(Q,{titulo:"Ventas por categoria de producto",component:e(dt,{})})}),e("div",{className:"col-4",children:e(Q,{titulo:"Usuarios con m\xE1s ventas",component:e(it,{})})}),e("div",{className:"col-4",children:e(Q,{titulo:"Compras a proveedores",component:e(mt,{})})})]}),a("div",{className:"row",children:[e("div",{className:"col-8 py-5",children:e(Q,{titulo:"Compras de la semana - detalladas",component:e(ht,{})})}),e("div",{className:"col-4 py-5",children:e(Q,{titulo:"Productos mermados",component:e(Nt,{})})})]})]}),bt=({profilePicture:r,clickMenuOpen:c,setClickMenu:o})=>e("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-1 static-top shadow",children:a("ul",{className:"navbar-nav ml-auto",children:[e(ge,{}),e(Ee,{}),e("div",{className:"topbar-divider d-none d-sm-block"}),e(Te,{profilePicture:r})]})}),Ct=({setSendRequest:r,profilePicture:c,userInformation:o,setUserInformation:s,setAlertMessage:n})=>{const[i,m]=l.exports.useState(null),{FIRST_NAME:d,MIDDLE_NAME:u,LAST_NAME:h,NAM_CITY:f,ADDRESS:N,DAT_BIRTHDAY:g}=o,E=t=>{s(v(A({},o),{[t.target.name]:t.target.value}))},O=t=>{m(t.target.files[0])},C=t=>{t.preventDefault(),p.put("/user-profile",o,b()).then(D=>{const{message:R}=D.data;n({message:R,ok:!0}),r(!0),setTimeout(()=>{n({message:"",ok:""})},3e3)})};return l.exports.useEffect(()=>{if(i){const t=new FormData;t.append("image",i),p.put("/profile-picture",t,b()).then(D=>{document.querySelector("#changeProfilePic").value="",n({message:"Foto de perfil cambiada exitosamene.",ok:!0}),r(!0),setTimeout(()=>{n({message:"",ok:""})},3e3)}).catch(D=>{n({message:"La imagen es demasiado grande.",ok:!1}),setTimeout(()=>{n({message:"",ok:""})},3e3)})}},[i]),a(U,{children:[e("h1",{className:"text-dark",children:"Informaci\xF3n del perfil"}),e("hr",{}),a("form",{onSubmit:C,action:"#",children:[a("div",{className:"row",children:[a("div",{className:"col-md-6",children:[a("div",{className:"form-group",children:[e("label",{children:"Nombre completo"}),e("input",{onChange:E,className:"form-control text-dark",type:"text",value:`${d} ${u} ${h}`,name:"",disabled:!0})]}),a("div",{className:"form-group",children:[e("label",{children:"Ciudad"}),e("input",{onChange:E,className:"form-control text-dark",type:"text",value:f,name:"NAM_CITY",required:!0})]}),a("div",{className:"form-group",children:[e("label",{children:"Direcci\xF3n"}),e("input",{onChange:E,className:"form-control text-dark",type:"text",value:N,name:"ADDRESS",required:!0})]}),a("div",{className:"form-group",children:[e("label",{children:"Fecha de nacimiento"}),e("input",{onChange:E,className:"form-control text-dark",type:"date",value:g,name:"DAT_BIRTHDAY",required:!0})]})]}),a("div",{className:"col-md-6",children:[e("h6",{children:"Foto de perfil"}),e("div",{className:"text-center",children:e(ne,{src:c?`data:image/*;base64, ${c}`:"",width:"300px",height:"300px"})}),e("input",{onChange:O,className:"mt-4 mb-2",type:"file",accept:"image/*",id:"changeProfilePic"})]})]}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-success",children:"Actualizar informaci\xF3n"})})]})]})},ft=({setAlertMessage:r})=>{const[c,o]=l.exports.useState({LAST_USER_PASSWORD:"",NEW_USER_PASSWORD:"",USER_PASSWORD:""}),{NEW_USER_PASSWORD:s,USER_PASSWORD:n}=c,i=u=>{o(v(A({},c),{[u.target.name]:u.target.value}))},m=u=>{o({LAST_USER_PASSWORD:"",NEW_USER_PASSWORD:"",USER_PASSWORD:""}),u.target.reset()};return l.exports.useEffect(()=>{const u=document.querySelector("#NEW_USER_PASSWORD");/^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{6,16}$/.test(s)?(u.classList.remove("is-invalid"),u.classList.add("is-valid")):(u.classList.remove("is-valid"),n!==""&&u.classList.add("is-invalid"));const f=document.querySelector("#USER_PASSWORD");s===n&&n!==""?(f.classList.remove("is-invalid"),f.classList.add("is-valid")):(f.classList.remove("is-valid"),n!==""&&f.classList.add("is-invalid"))},[c]),a(U,{children:[e("h1",{className:"text-dark",children:"Cambiar contrase\xF1a"}),e("hr",{}),a("form",{onSubmit:u=>{u.preventDefault(),p.put("/change-password",c,b()).then(h=>{const{message:f}=h.data;r({message:f,ok:!0}),setTimeout(()=>{r({message:"",ok:""})},3e3),m(u)}).catch(h=>{const{message:f}=h.response.data;r({message:f,ok:!1}),setTimeout(()=>{r({message:"",ok:""})},3e3),u.target.LAST_USER_PASSWORD.value="",u.target.LAST_USER_PASSWORD.focus()})},action:"#",children:[e("div",{className:"row",children:a("div",{className:"col-6",children:[a("div",{className:"form-group",children:[e("label",{children:"Contrase\xF1a actual"}),e("input",{onChange:i,className:"form-control text-dark",type:"password",name:"LAST_USER_PASSWORD",required:!0})]}),a("div",{className:"form-group",children:[e("label",{children:"Contrase\xF1a nueva"}),e("input",{id:"NEW_USER_PASSWORD",onChange:i,className:"form-control text-dark",type:"password",name:"NEW_USER_PASSWORD"}),e("small",{id:"emailHelp",className:"form-text text-muted",children:"La contrase\xF1a debe tener entre 6 y 16 caracteres, al menos un n\xFAmero, al menos una min\xFAscula y al menos una may\xFAscula."})]}),a("div",{className:"form-group",children:[e("label",{children:"Repetir contrase\xF1a nueva"}),e("input",{id:"USER_PASSWORD",onChange:i,className:"form-control text-dark",type:"password",name:"USER_PASSWORD"})]})]})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-success "+(s!==n||n===""?"disabled":""),children:"Cambiar contrase\xF1a"})})]})]})},gt=()=>{const[r,c]=l.exports.useState({message:"",ok:""}),[o,s]=l.exports.useState(null),[n,i]=l.exports.useState(!1),[m,d]=l.exports.useState("profileInformation"),[u,h]=l.exports.useState({FIRST_NAME:"",MIDDLE_NAME:"",LAST_NAME:"",NAM_CITY:"",ADDRESS:"",DAT_BIRTHDAY:"",NAM_ROLE:""}),{FIRST_NAME:f,LAST_NAME:N,NAM_ROLE:g}=u;return l.exports.useEffect(()=>{p.get("/user-profile",b()).then(E=>{h(v(A({},E.data[0]),{DAT_BIRTHDAY:I(E.data[0].DAT_BIRTHDAY).format("YYYY-MM-DD")}))})},[]),l.exports.useEffect(()=>{p.get("/profile-picture",b()).then(E=>{const{IMG_USER:O}=E.data[0];s(he.Buffer.from(O).toString("base64")),i(!1)})},[n]),a("div",{className:"container-fluid bg-light container-profile",children:[e(bt,{profilePicture:o}),r.ok?e(ce,{message:r.message}):null,r.ok===!1?e(ee,{message:r.message}):null,a("div",{className:"row p-3 ",children:[a("div",{className:"col-md-3",children:[a("div",{className:"row mb-0",children:[e("div",{className:"col-md-4",children:e(ne,{src:o?`data:image/*;base64, ${o}`:"",width:"120vw",height:"120vw"})}),a("div",{className:"col-md-8",children:[e("h4",{className:"ml-4 mt-4 mb-0 text-dark",children:`${f} ${N}`}),e("p",{className:"ml-4 mt-0 text-dark",children:g})]})]}),e("hr",{}),a("div",{className:"list-group",children:[e("a",{href:"#",onClick:()=>d("profileInformation"),className:"list-group-item list-group-item-action "+(m==="profileInformation"&&"active"),children:"Informaci\xF3n del perfil"}),e("a",{href:"#",onClick:()=>d("changePassword"),className:"list-group-item list-group-item-action "+(m==="changePassword"&&"active"),children:"Cambiar contrase\xF1a"})]})]}),e("div",{className:"col-md-8 mt-4",children:m==="profileInformation"?e(Ct,{setSendRequest:i,profilePicture:o,userInformation:u,setUserInformation:h,setAlertMessage:c}):e(ft,{setAlertMessage:c})})]})]})},Et=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({NAM_CATEGORY:"",DESCRIPTION:""}),n=m=>{s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{id:"addFormCategory",onSubmit:m=>{m.preventDefault(),p.post("/inventoryCategory",o,b()).then(d=>{document.querySelector("#idCloseAddForm").click(),m.target.reset(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_CATEGORY",children:"Nombre categor\xEDa"}),e("input",{onChange:n,className:"form-control",name:"NAM_CATEGORY",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Descripci\xF3n"}),e("input",{onChange:n,className:"form-control",name:"DESCRIPTION",type:"text",onInput:P,required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Tt=({rowCOD:r,setSendRequest:c,setMessageError:o})=>{const[s,n]=l.exports.useState({NAM_CATEGORY:"",DESCRIPTION:""}),i=d=>{n(v(A({},s),{[d.target.name]:d.target.value}))};return l.exports.useEffect(()=>{r&&p.get(`/inventoryCategory/${r}`,b()).then(d=>n(d.data[0]))},[r]),a("form",{id:"editFormCategory",onSubmit:d=>{d.preventDefault(),p.put(`/inventoryCategory/${r}`,s,b()).then(u=>{document.querySelector("#idCloseEditForm").click(),c(!0)}).catch(u=>{const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row mb-4",children:[a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"NAM_CATEGORY",children:"C\xF3digo producto"}),e("input",{onChange:i,value:s.NAM_CATEGORY,className:"form-control",name:"NAM_CATEGORY",type:"text",onInput:P,required:!0})]}),a("div",{className:"col-md-4",children:[e("label",{className:"form-label",htmlFor:"DESCRIPTION",children:"Concepto"}),e("input",{onChange:i,value:s.DESCRIPTION,className:"form-control",name:"DESCRIPTION",type:"text",onInput:P,required:!0})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseEditForm",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},Dt=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState("false"),[f,N]=l.exports.useState(null),g=[{name:"CODIGO",selector:t=>t.COD_CATEGORY,sortable:!0},{name:"NOMBRE",selector:t=>t.NAM_CATEGORY,sortable:!0},{name:"DESCRIPCI\xD3N",selector:t=>t.DESCRIPTION,sortable:!0},{name:"ACCIONES",button:!0,cell:t=>a(U,{children:[e("button",{className:"btn btn-sm btn-warning mr-1",onClick:()=>{N(t.COD_CATEGORY)},"data-toggle":"modal","data-target":"#editFormCategory",children:e("i",{className:"fa-solid fa-pen-to-square"})}),e("button",{className:"btn btn-sm btn-danger",onClick:()=>C(t.COD_CATEGORY),children:e("i",{className:"fa-solid fa-trash"})})]})}],E=r.filter(t=>JSON.stringify(t).toLowerCase().indexOf(o.toLowerCase())!==-1),O=l.exports.useMemo(()=>e(W,{onFilter:t=>s(t.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/inventoryCategory",b()).then(t=>{const{data:D}=t;console.log(D),c(D),i(!1),h(!1)})},[u]);const C=t=>{p.delete(`/inventoryCategory/${t}`,b()).then(D=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Categorias de inventario"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addFormCategory",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar Categoria"]})})}),e(F,{columns:g,data:E,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:O,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addFormCategory",title:"Agregar categoria de inventario",messageError:m,content:e(Et,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"editFormCategory",title:"Actualizar categoria de inventario",messageError:m,content:e(Tt,{rowCOD:f,setSendRequest:h,setMessageError:d})})]})]})},Ot=({setSendRequest:r,setMessageError:c})=>{const[o,s]=l.exports.useState({NAM_ROLE:"",DES_ROLE:"",COD_MODULE:"",QUE:0,INS:0,UPD:0,DEL:0}),n=m=>{m.target.name==="INS"||m.target.name==="QUE"||m.target.name==="UPD"||m.target.name==="DEL"?m.target.checked?s(v(A({},o),{[m.target.name]:m.target.value})):s(v(A({},o),{[m.target.name]:0})):s(v(A({},o),{[m.target.name]:m.target.value}))};return a("form",{onSubmit:m=>{m.preventDefault(),p.post("/roles",o,b()).then(d=>{m.target.reset(),document.querySelector("#idCloseAddRole").click(),r(!0)}).catch(d=>{const{message:u}=d.response.data;c(u),setTimeout(()=>{c("")},3e3)})},action:"#",children:[e("h6",{className:"text-muted mb-4",children:"Agregar nuevo rol"}),a("div",{className:"row mb-4",children:[a("div",{className:"col-md-5",children:[e("label",{className:"form-label",children:"Nombre del rol"}),e("input",{onChange:n,className:"form-control",name:"NAM_ROLE",type:"text",required:!0})]}),a("div",{className:"col-md-7",children:[e("label",{className:"form-label",children:"Descripci\xF3n del rol"}),e("textarea",{onChange:n,className:"form-control",rows:2,name:"DES_ROLE",type:"text",required:!0})]})]}),e("h6",{className:"text-muted mb-4",children:"Otorgar permisos"}),a("div",{className:"row",children:[e("div",{className:"col-6",children:a("select",{onChange:n,defaultValue:"",className:"custom-select",name:"COD_MODULE",required:!0,children:[e("option",{value:"",disabled:!0,children:"Seleccionar..."}),e("option",{value:"1",children:"M\xF3dulo de ventas"}),e("option",{value:"2",children:"M\xF3dulo de compras"}),e("option",{value:"3",children:"M\xF3dulo de personas"}),e("option",{value:"4",children:"M\xF3dulo de producci\xF3n"}),e("option",{value:"5",children:"M\xF3dulo de contabilidad"})]})}),a("div",{className:"col-4 ml-3",children:[a("div",{className:"form-group form-check",children:[e("input",{onChange:n,value:1,type:"checkbox",className:"form-check-input",name:"QUE",id:"QUE"}),a("label",{className:"form-check-label",htmlFor:"QUE",children:[e("i",{className:"fa-solid fa-eye"})," Visualizar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:n,value:1,type:"checkbox",className:"form-check-input",name:"INS",id:"INS"}),a("label",{className:"form-check-label",htmlFor:"INS",children:[e("i",{className:"fa-solid fa-square-plus"})," Agregar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:n,value:1,type:"checkbox",className:"form-check-input",name:"UPD",id:"UPD"}),a("label",{className:"form-check-label",htmlFor:"UPD",children:[e("i",{className:"fa-solid fa-pen-to-square"})," Editar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:n,value:1,type:"checkbox",className:"form-check-input",name:"DEL",id:"DEL"}),a("label",{className:"form-check-label",htmlFor:"DEL",children:[e("i",{className:"fa-solid fa-trash"})," Borrar"]})]})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"idCloseAddRole",className:"btn btn-primary","data-dismiss":"modal",children:"Cerrar"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},At=({rowCOD:r,sendRequestPermissions:c,setSendRequestPermissions:o})=>{const[s,n]=l.exports.useState([]),i=[{name:"M\xD3DULO",selector:d=>d.NAM_MODULE,sortable:!0},{name:"VISUALIZAR",selector:d=>d.QUE,center:!0,format:d=>d.QUE?e("i",{className:"fa-solid fa-check"}):e("i",{className:"fa-solid fa-ban"})},{name:"AGREGAR",selector:d=>d.INS,center:!0,format:d=>d.INS?e("i",{className:"fa-solid fa-check"}):e("i",{className:"fa-solid fa-ban"})},{name:"EDITAR",selector:d=>d.UPD,center:!0,format:d=>d.UPD?e("i",{className:"fa-solid fa-check"}):e("i",{className:"fa-solid fa-ban"})},{name:"BORRAR",center:!0,selector:d=>d.DEL,format:d=>d.DEL?e("i",{className:"fa-solid fa-check"}):e("i",{className:"fa-solid fa-ban"})},{name:"ACCIONES",button:!0,cell:d=>e(U,{children:e("button",{onClick:()=>m(d.COD_PERMISSION),className:"btn btn-sm btn-danger "+(d.COD_ROLE===1&&"disabled"),children:e("i",{className:"fa-solid fa-trash"})})})}];l.exports.useEffect(()=>{r&&p.get(`/permissions/${r}`,b()).then(d=>{n(d.data),o(!1)})},[r,c]);const m=d=>{p.delete(`/permissions/${d}`,b()).then(u=>{o(!0)})};return a(U,{children:[e("div",{className:"row",children:e("div",{className:"col-12 text-right",children:r>2?a("button",{"data-dismiss":"modal",className:"btn btn-sm btn-success","data-toggle":"modal","data-target":"#addPermissions",children:[e("i",{className:"fa-solid fa-plus"})," Agregar permisos"]}):null})}),e(F,{columns:i,data:s,responsive:!0,pagination:!0,paginationComponentOptions:k,highlightOnHover:!0,striped:!0,persistTableHead:!0})]})},vt=({rowCOD:r,setSendRequestPermissions:c,setMessageError:o})=>{const[s,n]=l.exports.useState({COD_MODULE:"",QUE:0,INS:0,UPD:0,DEL:0}),i=d=>{d.target.name==="INS"||d.target.name==="QUE"||d.target.name==="UPD"||d.target.name==="DEL"?d.target.checked?n(v(A({},s),{[d.target.name]:d.target.value})):n(v(A({},s),{[d.target.name]:0})):n(v(A({},s),{[d.target.name]:d.target.value}))};return a("form",{onSubmit:d=>{d.preventDefault(),console.log(r),p.post(`/permissions/${r}`,s,b()).then(u=>{d.target.reset(),document.querySelector("#closeModalPermissions").click(),c(!0)}).catch(u=>{const{message:h}=u.response.data;o(h),setTimeout(()=>{o("")},3e3)})},action:"#",children:[a("div",{className:"row",children:[e("div",{className:"col-6",children:a("select",{onChange:i,defaultValue:"",className:"custom-select",name:"COD_MODULE",required:!0,children:[e("option",{value:"",disabled:!0,children:"Seleccionar..."}),e("option",{value:"1",children:"M\xF3dulo de ventas"}),e("option",{value:"2",children:"M\xF3dulo de compras"}),e("option",{value:"3",children:"M\xF3dulo de personas"}),e("option",{value:"4",children:"M\xF3dulo de producci\xF3n"}),e("option",{value:"5",children:"M\xF3dulo de contabilidad"})]})}),a("div",{className:"col-4 ml-3",children:[a("div",{className:"form-group form-check",children:[e("input",{onChange:i,value:1,type:"checkbox",className:"form-check-input",name:"QUE",id:"QUE"}),a("label",{className:"form-check-label",htmlFor:"QUE",children:[e("i",{className:"fa-solid fa-eye"})," Visualizar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:i,value:1,type:"checkbox",className:"form-check-input",name:"INS",id:"INS"}),a("label",{className:"form-check-label",htmlFor:"INS",children:[e("i",{className:"fa-solid fa-square-plus"})," Agregar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:i,value:1,type:"checkbox",className:"form-check-input",name:"UPD",id:"UPD"}),a("label",{className:"form-check-label",htmlFor:"UPD",children:[e("i",{className:"fa-solid fa-pen-to-square"})," Editar"]})]}),a("div",{className:"form-group form-check",children:[e("input",{onChange:i,value:1,type:"checkbox",className:"form-check-input",name:"DEL",id:"DEL"}),a("label",{className:"form-check-label",htmlFor:"DEL",children:[e("i",{className:"fa-solid fa-trash"})," Borrar"]})]})]})]}),a("div",{className:"modal-footer",children:[e("button",{type:"button",id:"closeModalPermissions","data-toggle":"modal","data-target":"#viewModules",className:"btn btn-primary","data-dismiss":"modal",children:"Atr\xE1s"}),e("button",{type:"submit",className:"btn btn-success",children:"Guardar"})]})]})},St=()=>{const[r,c]=l.exports.useState([]),[o,s]=l.exports.useState(""),[n,i]=l.exports.useState(!0),[m,d]=l.exports.useState(""),[u,h]=l.exports.useState(!1),[f,N]=l.exports.useState(!1),[g,E]=l.exports.useState(null),O=[{name:"C\xD3DIGO",selector:R=>R.COD_ROLE,sortable:!0},{name:"ROL",selector:R=>R.NAM_ROLE,sortable:!0},{name:"DESCRIPCI\xD3N",selector:R=>R.DES_ROLE,sortable:!0,wrap:!0},{name:"ACCIONES",button:!0,cell:R=>a(U,{children:[e("button",{onClick:()=>E(R.COD_ROLE),className:"btn btn-sm btn-primary mr-1","data-toggle":"modal","data-target":"#viewModules",children:e("i",{className:"fa-solid fa-eye"})}),e("button",{onClick:()=>D(R.COD_ROLE),className:"btn btn-sm btn-danger "+((R.COD_ROLE===1||R.COD_ROLE===2)&&"disabled"),children:e("i",{className:"fa-solid fa-trash"})})]})}],C=r.filter(R=>JSON.stringify(R).toLowerCase().indexOf(o.toLowerCase())!==-1),t=l.exports.useMemo(()=>e(W,{onFilter:R=>s(R.target.value),filterText:o}),[o]);l.exports.useEffect(()=>{p.get("/roles",b()).then(R=>{c(R.data),i(!1),h(!1)})},[u]);const D=R=>{p.delete(`/roles/${R}`,b()).then(y=>h(!0))};return n?e(V,{}):a("div",{className:"card shadow rounded",children:[e("div",{className:"card-header text-dark",children:"Roles y permisos"}),a("div",{className:"card-body",children:[e("div",{className:"row mt-2 ml-1",children:e("div",{className:"col",children:a("button",{className:"btn btn-sm btn-primary","data-toggle":"modal","data-target":"#addRole",children:[e("i",{className:"fas fa-plus mr-2"}),"Agregar"]})})}),e(F,{columns:O,data:C,responsive:!0,pagination:!0,paginationComponentOptions:k,subHeader:!0,subHeaderComponent:t,highlightOnHover:!0,striped:!0,persistTableHead:!0}),e(x,{idModal:"addRole",title:"Gesti\xF3n de roles",messageError:m,content:e(Ot,{setSendRequest:h,setMessageError:d})}),e(x,{idModal:"viewModules",title:"Permisos",content:e(At,{rowCOD:g,sendRequestPermissions:f,setSendRequestPermissions:N}),modalSize:"xl"}),e(x,{idModal:"addPermissions",title:"Agregar permisos",messageError:m,content:e(vt,{rowCOD:g,setSendRequestPermissions:N,setMessageError:d})})]})]})},ue=()=>a("div",{className:"container-fluid",children:[e("div",{className:"row",children:e("h1",{className:"errorPage",children:"401"})}),e("div",{className:"row",children:e("p",{className:"warningPage",children:"Sin autorizaci\xF3n"})})]}),_t=()=>a("div",{className:"container-fluid",children:[e("div",{className:"row",children:e("h1",{className:"errorPage",children:"404"})}),e("div",{className:"row",children:e("p",{className:"warningPage",children:"P\xE1gina no encontrada"})})]}),Rt=()=>{const{isLogged:r}=re(),[c,o]=l.exports.useState(null),[s,n]=l.exports.useState({ventas:!1,compras:!1,personas:!1,produccion:!1,contabilidad:!1}),{ventas:i}=s;return l.exports.useEffect(()=>{r&&p.get("/user-permissions",b()).then(m=>{n({ventas:m.data.some(d=>d.COD_MODULE===1),compras:m.data.some(d=>d.COD_MODULE===2),personas:m.data.some(d=>d.COD_MODULE===3),produccion:m.data.some(d=>d.COD_MODULE===4),contabilidad:m.data.some(d=>d.COD_MODULE===5)})})},[r]),l.exports.useEffect(()=>{r&&p.get("/user-profile",b()).then(m=>o(m.data[0].COD_ROLE))},[r]),a(Le,{children:[e(Y,{path:"/",element:r?e(ae,{to:"/dashboard"}):e(Be,{})}),e(Y,{path:"/profile",element:r?e(gt,{}):e(ae,{to:"/"})}),e(Y,{path:"/facturar",element:r?i?e(ba,{}):e(ue,{}):e(ae,{to:"/"})}),a(Y,{path:"/dashboard",element:r?e(ia,{}):e(ae,{to:"/"}),children:[e(Y,{path:"ventas",element:e(ga,{})}),e(Y,{path:"compras",element:e(Da,{})}),e(Y,{path:"pedidos",element:e(Sa,{})}),e(Y,{path:"usuarios",element:c===1?e(xa,{}):e(ae,{to:"/"})}),e(Y,{path:"clientes",element:e(Ma,{})}),e(Y,{path:"proveedores",element:e(Fa,{})}),e(Y,{path:"categorias-inventario",element:e(Dt,{})}),e(Y,{path:"inventario",element:e(qa,{})}),e(Y,{path:"movimientos-inventario",element:e(Ha,{})}),e(Y,{path:"devoluciones-inventario",element:e(Wa,{})}),e(Y,{path:"mermas",element:e(za,{})}),e(Y,{path:"cuentas-cobrar",element:e(Za,{})}),e(Y,{path:"cuentas-pagar",element:e(at,{})}),e(Y,{path:"devoluciones",element:e(lt,{})}),e(Y,{path:"rebajas",element:e(st,{})}),e(Y,{path:"planilla-pago",element:e(ct,{})}),e(Y,{path:"graficas",element:e(pt,{})}),e(Y,{path:"roles-permisos",element:c===1?e(St,{}):e(ue,{})})]}),e(Y,{path:"/*",element:r?e(_t,{}):e(ae,{to:"/"})})]})},xt=()=>e(qe,{children:e(Rt,{})});we.render(e(Ye,{children:e(xt,{})}),document.getElementById("wrapper"));
